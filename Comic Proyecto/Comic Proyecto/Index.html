<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Portal Educativo Digital - Cómic de las 4 Materias</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Bangers&family=Roboto:wght@300;400;700;900&display=swap" rel="stylesheet">
    <style>
        /* Variables con paletas actualizadas según las especificaciones */
        :root {
            /* Paleta 1 - Cyberpunk (para complementos) */
            --cyber-orange: #FD8326;
            --cyber-pink: #F59192;
            --cyber-red: #F4545E;
            --cyber-dark-red: #D32729;
            --cyber-purple: #6D2A4F;
            --cyber-dark: #25091C;
            
            /* Paleta 5 - Azul para Matemáticas */
            --matematicas-dark: #19192E;
            --matematicas-medium: #003E91;
            --matematicas-deep: #002063;
            --matematicas-navy: #041642;
            --matematicas-light: #27A8FF;
            
            /* Paleta 2 - Japonés Rojo para Lengua */
            --lengua-black: #070709;
            --lengua-brown: #4B2D2E;
            --lengua-rust: #824334;
            --lengua-red: #F42C1D;
            --lengua-dark-red: #AE1918;
            --lengua-deep-red: #701C1A;
            
            /* Paleta 3 - Green Gray para Ciencias Naturales */
            --naturales-dark: #162936;
            --naturales-gray: #3B5265;
            --naturales-neon: #27E9B5;
            --naturales-deep: #051824;
            --naturales-light: #4CD9B4;
            
            /* Paleta 4 - Turquesa para Ciencias Sociales */
            --sociales-dark: #222831;
            --sociales-blue: #283B48;
            --sociales-turq: #00A6C0;
            --sociales-beige: #D8D7CE;
            --sociales-light: #00C8E0;
            
            /* Complementos opcionales para Sociales */
            --sociales-complement-purple: #6D2A4F;
            --sociales-complement-dark: #25091C;
            
            /* Asignación de variables por materia */
            --matematicas: var(--matematicas-light);
            --matematicas-dark: var(--matematicas-navy);
            --lengua: var(--lengua-red);
            --lengua-dark: var(--lengua-deep-red);
            --sociales: var(--sociales-turq);
            --sociales-dark: var(--sociales-blue);
            --naturales: var(--naturales-neon);
            --naturales-dark: var(--naturales-deep);
            
            /* Colores generales */
            --primary: var(--cyber-orange);
            --secondary: var(--cyber-pink);
            --background: var(--matematicas-dark);
            --card-bg: rgba(25, 25, 46, 0.8);
            --text-light: #ffffff;
            --text-dark: #070709;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Roboto', sans-serif;
        }
        
        body {
            background-color: var(--background);
            color: var(--text-light);
            line-height: 1.6;
            overflow-x: hidden;
            min-height: 100vh;
            background-image: radial-gradient(circle at 10% 20%, rgba(253, 131, 38, 0.15) 0%, transparent 20%), 
                            radial-gradient(circle at 90% 80%, rgba(39, 233, 181, 0.15) 0%, transparent 20%);
        }
        
        /* Efectos de partículas flotantes */
        .floating-particles {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -1;
            opacity: 0.3;
        }
        
        .particle {
            position: absolute;
            border-radius: 50%;
            animation: float 20s infinite linear;
            opacity: 0.3;
        }
        
        /* Partículas de colores según materias */
        .particle:nth-child(4n+1) {
            background: radial-gradient(circle, var(--matematicas-light), transparent);
        }
        
        .particle:nth-child(4n+2) {
            background: radial-gradient(circle, var(--lengua-red), transparent);
        }
        
        .particle:nth-child(4n+3) {
            background: radial-gradient(circle, var(--sociales-turq), transparent);
        }
        
        .particle:nth-child(4n+4) {
            background: radial-gradient(circle, var(--naturales-neon), transparent);
        }
        
        @keyframes float {
            0%, 100% { transform: translate(0, 0) rotate(0deg); }
            25% { transform: translate(100px, 50px) rotate(90deg); }
            50% { transform: translate(50px, 100px) rotate(180deg); }
            75% { transform: translate(-50px, 50px) rotate(270deg); }
        }
        
        /* Estilo cómic - globos de diálogo */
        .comic-bubble {
            position: relative;
            background: white;
            color: black;
            padding: 15px;
            border-radius: 20px;
            border: 3px solid black;
            margin: 20px;
            font-family: 'Bangers', cursive;
            font-size: 1.2rem;
            box-shadow: 5px 5px 0px rgba(0,0,0,0.3);
        }
        
        .comic-bubble:after {
            content: '';
            position: absolute;
            border-style: solid;
            border-width: 15px 15px 0;
            border-color: white transparent;
            display: block;
            width: 0;
            z-index: 1;
            bottom: -15px;
            left: 50%;
            transform: translateX(-50%);
        }
        
        .comic-bubble:before {
            content: '';
            position: absolute;
            border-style: solid;
            border-width: 18px 18px 0;
            border-color: black transparent;
            display: block;
            width: 0;
            z-index: 0;
            bottom: -21px;
            left: 50%;
            transform: translateX(-50%);
        }
        
        /* Estilo cómic - líneas de movimiento */
        .motion-line {
            position: absolute;
            background: repeating-linear-gradient(
                45deg,
                transparent,
                transparent 10px,
                var(--cyber-orange) 10px,
                var(--cyber-orange) 20px
            );
            transform: rotate(45deg);
            opacity: 0.7;
        }
        
        /* Animaciones globales */
        @keyframes pulseGlow {
            0%, 100% { box-shadow: 0 0 10px rgba(253, 131, 38, 0.5); }
            50% { box-shadow: 0 0 25px rgba(253, 131, 38, 0.8); }
        }
        
        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }
        
        a {
            text-decoration: none;
            color: inherit;
            transition: all 0.3s ease;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 20px;
        }
        
        /* Botones con estilo cómic */
        .btn {
            display: inline-block;
            padding: 12px 25px;
            background: linear-gradient(45deg, var(--primary), var(--cyber-red));
            color: white;
            border: none;
            border-radius: 8px;
            font-weight: 900;
            text-transform: uppercase;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            z-index: 1;
            box-shadow: 0 5px 15px rgba(253, 131, 38, 0.4);
            font-family: 'Bangers', cursive;
            font-size: 1.1rem;
            letter-spacing: 1px;
            border: 3px solid var(--text-light);
        }
        
        .btn:hover {
            transform: translateY(-5px) scale(1.05);
            box-shadow: 0 10px 25px rgba(253, 131, 38, 0.6);
            animation: pulseGlow 1.5s infinite;
        }
        
        .btn-comic-creator {
            background: linear-gradient(45deg, var(--sociales-complement-purple), var(--lengua-red));
            font-size: 1.3rem;
            padding: 15px 30px;
            margin: 20px 0;
        }
        
        /* Header completo que desaparece al hacer scroll */
        .comic-header {
            background-color: rgba(25, 25, 46, 0.95);
            backdrop-filter: blur(10px);
            border-bottom: 3px solid var(--primary);
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            z-index: 1000;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 5px 30px rgba(0, 0, 0, 0.5);
            transform: translateY(0);
        }
        
        .comic-header.hidden {
            transform: translateY(-100%);
            opacity: 0;
            pointer-events: none;
        }
        
        .comic-header.visible {
            transform: translateY(0);
            opacity: 1;
            pointer-events: auto;
        }
        
        .main-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 0;
            position: relative;
            transition: all 0.4s ease;
        }
        
        .logo {
            font-size: 2.8rem;
            font-weight: 900;
            color: transparent;
            text-transform: uppercase;
            letter-spacing: 3px;
            background: linear-gradient(45deg, var(--matematicas-light), var(--lengua-red), var(--naturales-neon));
            -webkit-background-clip: text;
            background-clip: text;
            text-shadow: 0 5px 15px rgba(39, 168, 255, 0.3);
            font-family: 'Bangers', cursive;
        }
        
        .logo span {
            color: transparent;
            background: linear-gradient(45deg, var(--sociales-turq), var(--cyber-pink));
            -webkit-background-clip: text;
            background-clip: text;
        }
        
        .search-bar {
            display: flex;
            align-items: center;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 50px;
            padding: 10px 20px;
            width: 300px;
            border: 2px solid var(--primary);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            transition: all 0.3s ease;
        }
        
        .search-bar:hover {
            width: 320px;
            box-shadow: 0 8px 25px rgba(253, 131, 38, 0.3);
            border-color: var(--naturales-neon);
        }
        
        .search-bar input {
            border: none;
            outline: none;
            flex: 1;
            padding: 8px;
            background: transparent;
            color: white;
            font-size: 1rem;
        }
        
        .search-bar input::placeholder {
            color: rgba(255, 255, 255, 0.6);
        }
        
        .search-bar button {
            background: transparent;
            border: none;
            color: var(--primary);
            cursor: pointer;
            font-size: 1.2rem;
            transition: all 0.3s ease;
        }
        
        .search-bar button:hover {
            color: var(--naturales-neon);
            transform: scale(1.2);
        }
        
        .user-actions {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .user-actions a {
            font-weight: 700;
            padding: 8px 15px;
            border-radius: 6px;
            position: relative;
            overflow: hidden;
            z-index: 1;
        }
        
        .user-actions .sign-in {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.3);
        }
        
        .user-actions .sign-in:hover {
            background: rgba(255, 255, 255, 0.2);
            border-color: var(--primary);
        }
        
        .user-welcome {
            display: none;
            align-items: center;
            gap: 10px;
            background: linear-gradient(45deg, var(--matematicas-medium), var(--sociales-complement-purple));
            padding: 8px 20px;
            border-radius: 50px;
            box-shadow: 0 5px 15px rgba(0, 62, 145, 0.4);
        }
        
        .user-welcome i {
            color: var(--primary);
        }
        
        .user-welcome span {
            font-weight: 700;
        }
        
        .logout-btn {
            background: none;
            border: none;
            color: var(--lengua-red);
            cursor: pointer;
            font-size: 1.2rem;
            margin-left: 10px;
            transition: all 0.3s ease;
        }
        
        .logout-btn:hover {
            transform: scale(1.2);
        }
        
        /* Navegación con estilo cómic */
        .comic-nav {
            background: linear-gradient(90deg, 
                var(--matematicas-navy) 0%, 
                var(--lengua-deep-red) 25%, 
                var(--sociales-blue) 50%, 
                var(--naturales-deep) 75%, 
                var(--matematicas-navy) 100%);
            backdrop-filter: blur(10px);
            padding: 0;
            position: relative;
            overflow: hidden;
            transition: all 0.4s ease;
            border-top: 2px solid var(--primary);
            border-bottom: 2px solid var(--primary);
        }
        
        .nav-list {
            display: flex;
            list-style: none;
            justify-content: center;
        }
        
        .nav-list li {
            position: relative;
        }
        
        .nav-list a {
            display: block;
            padding: 18px 25px;
            font-weight: 900;
            text-transform: uppercase;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            font-family: 'Bangers', cursive;
            letter-spacing: 1px;
            font-size: 1.1rem;
            background: rgba(7, 7, 9, 0.3);
            backdrop-filter: blur(5px);
        }
        
        .nav-list a::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            width: 0;
            height: 4px;
            transition: all 0.3s ease;
            transform: translateX(-50%);
        }
        
        .nav-list a:hover {
            color: var(--primary);
            background: rgba(255, 255, 255, 0.1);
            transform: translateY(-2px);
            backdrop-filter: blur(10px);
        }
        
        .nav-list a:hover::after {
            width: 80%;
        }
        
        /* Estilo específico para enlaces de materias con nuevos colores */
        .nav-matematicas:hover {
            color: var(--matematicas-light) !important;
        }
        
        .nav-matematicas:hover::after {
            background: linear-gradient(90deg, var(--matematicas-light), var(--matematicas-medium));
        }
        
        .nav-lengua:hover {
            color: var(--lengua-red) !important;
        }
        
        .nav-lengua:hover::after {
            background: linear-gradient(90deg, var(--lengua-red), var(--lengua-rust));
        }
        
        .nav-sociales:hover {
            color: var(--sociales-turq) !important;
        }
        
        .nav-sociales:hover::after {
            background: linear-gradient(90deg, var(--sociales-turq), var(--sociales-light));
        }
        
        .nav-naturales:hover {
            color: var(--naturales-neon) !important;
        }
        
        .nav-naturales:hover::after {
            background: linear-gradient(90deg, var(--naturales-neon), var(--naturales-light));
        }
        
        .dropdown-menu {
            display: none;
            position: absolute;
            background: rgba(7, 7, 9, 0.95);
            backdrop-filter: blur(15px);
            min-width: 220px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.7);
            z-index: 1;
            border-radius: 0 0 10px 10px;
            overflow: hidden;
            border-top: 3px solid var(--primary);
            animation: fadeIn 0.3s ease;
            border: 2px solid var(--primary);
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .dropdown-menu li {
            width: 100%;
        }
        
        .dropdown-menu a {
            padding: 15px 20px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
            font-size: 1rem;
            background: transparent;
        }
        
        .dropdown-menu a:hover {
            background: rgba(253, 131, 38, 0.2);
            padding-left: 30px;
        }
        
        .dropdown:hover .dropdown-menu {
            display: block;
        }
        
        /* Efectos hover flotantes */
        .hover-float {
            transition: all 0.4s ease;
        }
        
        .hover-float:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 30px rgba(253, 131, 38, 0.4);
        }
        
        /* Contenedor principal de contenido */
        .main-content {
            padding: 60px 0;
            position: relative;
            margin-top: 160px;
            min-height: calc(100vh - 300px);
            transition: margin-top 0.4s ease;
        }
        
        /* Estilos para secciones */
        .section-title {
            font-size: 3rem;
            margin-bottom: 40px;
            padding-bottom: 15px;
            position: relative;
            display: block;
            text-align: center;
            width: 100%;
            margin-left: auto;
            margin-right: auto;
            color: transparent;
            transition: all 0.3s ease;
            font-family: 'Bangers', cursive;
            letter-spacing: 2px;
            text-shadow: 3px 3px 0px rgba(0,0,0,0.3);
        }
        
        .section-title-matematicas {
            background: linear-gradient(90deg, var(--matematicas-light), var(--matematicas-medium));
            -webkit-background-clip: text;
            background-clip: text;
        }
        
        .section-title-lengua {
            background: linear-gradient(90deg, var(--lengua-red), var(--lengua-rust));
            -webkit-background-clip: text;
            background-clip: text;
        }
        
        .section-title-sociales {
            background: linear-gradient(90deg, var(--sociales-turq), var(--sociales-light));
            -webkit-background-clip: text;
            background-clip: text;
        }
        
        .section-title-naturales {
            background: linear-gradient(90deg, var(--naturales-neon), var(--naturales-light));
            -webkit-background-clip: text;
            background-clip: text;
        }
        
        .section-title:hover {
            transform: translateY(-5px);
        }
        
        .section-title::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 200px;
            height: 5px;
            border-radius: 5px;
            animation: pulseGlow 2s infinite ease-in-out;
        }
        
        .section-title-matematicas::after {
            background: linear-gradient(90deg, var(--matematicas-light), var(--matematicas-medium));
        }
        
        .section-title-lengua::after {
            background: linear-gradient(90deg, var(--lengua-red), var(--lengua-rust));
        }
        
        .section-title-sociales::after {
            background: linear-gradient(90deg, var(--sociales-turq), var(--sociales-light));
        }
        
        .section-title-naturales::after {
            background: linear-gradient(90deg, var(--naturales-neon), var(--naturales-light));
        }
        
        /* Estilos para contenido dinámico */
        .content-section {
            display: none;
            animation: fadeIn 0.5s ease;
        }
        
        .content-section.active {
            display: block;
        }
        
       /* MODIFICAR ESTO en el CSS (busca .card-grid y actualízalo): */

.card-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 30px;
    margin-bottom: 50px;
    justify-items: center; /* Esto ya está bien */
    max-width: 1200px; /* Añade esto */
    margin-left: auto; /* Añade esto */
    margin-right: auto; /* Añade esto */
    padding: 0 20px; /* Añade esto */
}

/* También actualiza .comic-card para que sea más consistente */
.comic-card {
    background: var(--card-bg);
    backdrop-filter: blur(10px);
    border-radius: 15px;
    padding: 25px;
    transition: all 0.4s ease;
    text-align: center;
    position: relative;
    overflow: hidden;
    box-shadow: 8px 8px 0px rgba(0,0,0,0.2);
    width: 100%;
    max-width: 300px;
    min-height: 320px;
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    margin: 0 auto; /* Añade esto para centrar dentro del grid */
}
        
        .comic-card::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            transform: rotate(45deg);
            transition: all 0.5s ease;
        }
        
        .comic-card:hover::before {
            animation: shine 1.5s ease;
        }
        
        @keyframes shine {
            0% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }
            100% { transform: translateX(100%) translateY(100%) rotate(45deg); }
        }
        
        .comic-card:hover {
            transform: translateY(-10px) rotate(1deg);
            box-shadow: 15px 15px 0px rgba(0,0,0,0.3);
        }
        
        .comic-card i {
            font-size: 3rem;
            margin-bottom: 20px;
        }
        
        .comic-card h3 {
            font-size: 1.8rem;
            margin-bottom: 15px;
            font-family: 'Bangers', cursive;
            letter-spacing: 1px;
        }
        
        /* Colores específicos para cada materia con NUEVAS PALETAS */
        .matematicas-card {
            border: 3px solid var(--matematicas-light);
            background: linear-gradient(135deg, rgba(25, 25, 46, 0.9), rgba(4, 22, 66, 0.9));
        }
        
        .matematicas-card::before {
            background: linear-gradient(45deg, transparent, rgba(39, 168, 255, 0.1), transparent);
        }
        
        .matematicas-card h3, .matematicas-card i {
            color: var(--matematicas-light);
        }
        
        .matematicas-card:hover {
            border-color: var(--matematicas-medium);
        }
        
        .lengua-card {
            border: 3px solid var(--lengua-red);
            background: linear-gradient(135deg, rgba(7, 7, 9, 0.9), rgba(112, 28, 26, 0.9));
        }
        
        .lengua-card::before {
            background: linear-gradient(45deg, transparent, rgba(244, 44, 29, 0.1), transparent);
        }
        
        .lengua-card h3, .lengua-card i {
            color: var(--lengua-red);
        }
        
        .lengua-card:hover {
            border-color: var(--lengua-rust);
        }
        
        .sociales-card {
            border: 3px solid var(--sociales-turq);
            background: linear-gradient(135deg, rgba(34, 40, 49, 0.9), rgba(40, 59, 72, 0.9));
        }
        
        .sociales-card::before {
            background: linear-gradient(45deg, transparent, rgba(0, 166, 192, 0.1), transparent);
        }
        
        .sociales-card h3, .sociales-card i {
            color: var(--sociales-turq);
        }
        
        .sociales-card:hover {
            border-color: var(--sociales-light);
        }
        
        .naturales-card {
            border: 3px solid var(--naturales-neon);
            background: linear-gradient(135deg, rgba(22, 41, 54, 0.9), rgba(5, 24, 36, 0.9));
        }
        
        .naturales-card::before {
            background: linear-gradient(45deg, transparent, rgba(39, 233, 181, 0.1), transparent);
        }
        
        .naturales-card h3, .naturales-card i {
            color: var(--naturales-neon);
        }
        
        .naturales-card:hover {
            border-color: var(--naturales-light);
        }
        
        /* Estilos para la página de inicio - MEJORADO para centrar */
        .hero {
            position: relative;
            height: 600px;
            overflow: hidden;
            margin-bottom: 60px;
            border-radius: 20px;
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.7);
            border: 5px solid var(--primary);
        }
        
        .hero-slider {
            height: 100%;
            position: relative;
        }
        
        .slide {
            height: 100%;
            background-size: cover;
            background-position: center;
            display: none;
            position: relative;
        }
        
        .slide.active {
            display: block;
            animation: slideIn 1s ease;
        }
        
        @keyframes slideIn {
            from { opacity: 0.5; transform: scale(1.1); }
            to { opacity: 1; transform: scale(1); }
        }
        
        .slide-content {
            position: absolute;
            bottom: 120px;
            left: 100px;
            max-width: 600px;
            background: rgba(7, 7, 9, 0.85);
            backdrop-filter: blur(10px);
            padding: 40px;
            border-radius: 20px;
            border-left: 8px solid var(--primary);
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.6);
            transition: all 0.4s ease;
            border: 3px solid var(--primary);
        }
        
        .slide-content:hover {
            transform: translateY(-10px);
            box-shadow: 0 25px 50px rgba(253, 131, 38, 0.5);
        }
        
        .slide-title {
            font-size: 3.5rem;
            margin-bottom: 20px;
            color: transparent;
            background: linear-gradient(45deg, var(--primary), var(--naturales-neon));
            -webkit-background-clip: text;
            background-clip: text;
            text-shadow: 0 5px 15px rgba(0, 0, 0, 0.5);
            line-height: 1.2;
            font-family: 'Bangers', cursive;
        }
        
        .slide-text {
            margin-bottom: 30px;
            font-size: 1.2rem;
            line-height: 1.6;
            color: rgba(255, 255, 255, 0.9);
        }
        
        .slide-indicators {
            position: absolute;
            bottom: 40px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 15px;
            z-index: 10;
        }
        
        .indicator {
            width: 15px;
            height: 15px;
            border-radius: 50%;
            background-color: rgba(255, 255, 255, 0.5);
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.3);
        }
        
        .indicator.active {
            background-color: var(--primary);
            transform: scale(1.3);
            box-shadow: 0 0 15px var(--primary);
        }
        
        .indicator:hover {
            background-color: var(--naturales-neon);
            transform: scale(1.2);
        }
        
       /* Actualiza .info-highlights si aún no está centrado */
.info-highlights {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 25px;
    margin: 60px auto;
    justify-items: center;
    max-width: 1200px;
    padding: 0 20px;
}
        
        /* FOOTER REDUCIDO - Solo Materias y Contactos */
        .comic-footer {
            background: rgba(7, 7, 9, 0.95);
            backdrop-filter: blur(10px);
            padding: 30px 0 20px;
            margin-top: 60px;
            border-top: 3px solid transparent;
            border-image: linear-gradient(90deg, 
                var(--matematicas-light), 
                var(--lengua-red), 
                var(--sociales-turq), 
                var(--naturales-neon)) 1;
            position: relative;
            overflow: hidden;
        }
        
        .footer-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 40px;
            margin-bottom: 30px;
            justify-items: center;
        }
        
        .footer-column {
            text-align: center;
            max-width: 350px;
            width: 100%;
        }
        
        .footer-column h3 {
            font-size: 1.5rem;
            margin-bottom: 20px;
            color: var(--primary);
            position: relative;
            padding-bottom: 10px;
            font-family: 'Bangers', cursive;
            display: inline-block;
        }
        
        .footer-column h3::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 50px;
            height: 3px;
            background: linear-gradient(90deg, var(--primary), var(--naturales-neon));
            border-radius: 3px;
        }
        
        .footer-column ul {
            list-style: none;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 8px;
        }
        
        .footer-column li {
            transition: all 0.3s ease;
            width: 100%;
            max-width: 250px;
        }
        
        .footer-column li:hover {
            transform: translateX(5px);
        }
        
        .footer-column a {
            display: inline-block;
            padding: 8px 15px;
            position: relative;
            width: 100%;
            border-radius: 5px;
            transition: all 0.3s ease;
        }
        
        .footer-column a:hover {
            background: rgba(253, 131, 38, 0.1);
            color: var(--primary);
        }
        
        .footer-column a::before {
            content: '⚡';
            position: absolute;
            left: -20px;
            opacity: 0;
            transition: all 0.3s ease;
            color: var(--primary);
        }
        
        .footer-column a:hover::before {
            left: -15px;
            opacity: 1;
        }
        
        .footer-bottom {
            text-align: center;
            padding-top: 20px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            color: rgba(255, 255, 255, 0.6);
            font-size: 0.9rem;
        }
        
        .footer-contact-info {
            margin-top: 15px;
            padding-top: 15px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .footer-contact-info p {
            margin: 8px 0;
            font-size: 0.9rem;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }
        
        .footer-contact-info i {
            color: var(--primary);
            font-size: 1rem;
        }
        
        /* Modal de Login */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.9);
            z-index: 2000;
            justify-content: center;
            align-items: center;
            backdrop-filter: blur(10px);
        }
        
        .modal-content {
            background: rgba(7, 7, 9, 0.95);
            width: 450px;
            border-radius: 20px;
            padding: 50px;
            position: relative;
            border: 3px solid transparent;
            border-image: linear-gradient(45deg, var(--primary), var(--naturales-neon)) 1;
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.7);
            animation: modalAppear 0.5s ease;
            transition: all 0.3s ease;
        }
        
        .modal-content:hover {
            transform: translateY(-5px);
        }
        
        @keyframes modalAppear {
            from { opacity: 0; transform: scale(0.8) translateY(-50px); }
            to { opacity: 1; transform: scale(1) translateY(0); }
        }
        
        .modal-close {
            position: absolute;
            top: 20px;
            right: 20px;
            font-size: 1.8rem;
            cursor: pointer;
            color: rgba(255, 255, 255, 0.7);
            transition: all 0.3s ease;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
        }
        
        .modal-close:hover {
            color: var(--primary);
            background: rgba(255, 255, 255, 0.1);
            transform: rotate(90deg);
        }
        
        .modal-title {
            font-size: 2.2rem;
            margin-bottom: 30px;
            text-align: center;
            color: transparent;
            background: linear-gradient(45deg, var(--primary), var(--naturales-neon));
            -webkit-background-clip: text;
            background-clip: text;
            font-family: 'Bangers', cursive;
        }
        
        .form-group {
            margin-bottom: 25px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 10px;
            color: rgba(255, 255, 255, 0.8);
        }
        
        .form-group input {
            width: 100%;
            padding: 15px;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 8px;
            color: white;
            font-size: 1rem;
            transition: all 0.3s ease;
        }
        
        .form-group input:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 15px rgba(253, 131, 38, 0.3);
            background: rgba(255, 255, 255, 0.15);
        }
        
        /* Modal de Creador de Cómics */
        #comicCreatorModal .modal-content {
            width: 800px;
            max-height: 90vh;
            overflow-y: auto;
        }
        
        .comic-creator {
            padding: 20px;
        }
        
        .comic-panel {
            background: white;
            border: 3px solid black;
            padding: 20px;
            margin: 20px 0;
            min-height: 200px;
            position: relative;
            box-shadow: 5px 5px 0px rgba(0,0,0,0.3);
        }
        
        .comic-tools {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        
        .tool-group {
            background: rgba(255,255,255,0.1);
            padding: 15px;
            border-radius: 10px;
        }
        
        /* Responsive */
        @media (max-width: 1200px) {
            .slide-content {
                left: 50px;
                max-width: 500px;
            }
            .slide-title {
                font-size: 3rem;
            }
            .info-highlights {
                max-width: 900px;
            }
        }
        
        @media (max-width: 992px) {
            .main-header {
                flex-direction: column;
                gap: 25px;
            }
            .search-bar {
                width: 100%;
                max-width: 500px;
            }
            .nav-list {
                flex-wrap: wrap;
                justify-content: center;
            }
            .slide-content {
                left: 30px;
                right: 30px;
                max-width: none;
                padding: 30px;
            }
            .slide-title {
                font-size: 2.5rem;
            }
            .hero {
                height: 500px;
            }
            .main-content {
                margin-top: 200px;
            }
            .info-highlights {
                max-width: 700px;
                grid-template-columns: repeat(2, 1fr);
            }
            .footer-content {
                grid-template-columns: 1fr;
                max-width: 600px;
                margin: 0 auto 30px;
            }
        }
        
        @media (max-width: 768px) {
            .hero {
                height: 400px;
            }
            .slide-content {
                bottom: 80px;
                padding: 25px;
            }
            .slide-title {
                font-size: 2rem;
            }
            .section-title {
                font-size: 2.2rem;
            }
            .card-grid {
                grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
                gap: 20px;
            }
            .modal-content {
                width: 90%;
                padding: 40px 30px;
            }
            #comicCreatorModal .modal-content {
                width: 95%;
            }
            .info-highlights {
                grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
                gap: 20px;
                max-width: 90%;
            }
            .comic-card {
                max-width: 100%;
            }
            .comic-header.hidden {
                transform: translateY(-150px);
            }
            .footer-column {
                max-width: 100%;
            }
            .footer-column ul {
                align-items: flex-start;
                padding-left: 20px;
            }
        }
        
        @media (max-width: 576px) {
            .logo {
                font-size: 2.2rem;
            }
            .user-actions {
                flex-wrap: wrap;
                justify-content: center;
                gap: 15px;
            }
            .user-actions a {
                margin: 0;
            }
            .nav-list a {
                padding: 15px;
                font-size: 0.9rem;
            }
            .hero {
                height: 350px;
            }
            .slide-content {
                bottom: 60px;
                padding: 20px;
            }
            .slide-title {
                font-size: 1.8rem;
            }
            .main-content {
                margin-top: 140px;
            }
            .info-highlights {
                grid-template-columns: 1fr;
                max-width: 95%;
            }
            .footer-content {
                padding: 0 15px;
            }
            .footer-column ul {
                padding-left: 10px;
            }
        }
        
        /* MODIFICAR ESTO también: */
.character-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 30px;
    margin-top: 40px;
    justify-items: center;
    max-width: 1200px; /* Añade esto */
    margin-left: auto; /* Añade esto */
    margin-right: auto; /* Añade esto */
    padding: 0 20px; /* Añade esto */
}
        
        .character-card {
            background: var(--card-bg);
            border-radius: 15px;
            overflow: hidden;
            border: 3px solid var(--primary);
            transition: all 0.3s ease;
            max-width: 350px;
            width: 100%;
        }
        
        .character-card:hover {
            transform: translateY(-10px);
            border-color: var(--naturales-neon);
        }
        
        .character-img {
            width: 100%;
            height: 200px;
            object-fit: cover;
            border-bottom: 3px solid var(--primary);
        }
        
        .character-info {
            padding: 20px;
        }
        
        .character-name {
            font-size: 1.5rem;
            color: var(--primary);
            margin-bottom: 10px;
            font-family: 'Bangers', cursive;
        }
        
        .character-description {
            color: rgba(255,255,255,0.8);
            line-height: 1.6;
        }
        
        /* Centrar contenido */
        .content-section > p:first-of-type {
            text-align: center;
            margin-left: auto;
            margin-right: auto;
            display: block;
            max-width: 800px;
        }
        
        /* Centrar filtros */
        .filter-buttons, .category-buttons {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 10px;
            margin-bottom: 20px;
        }
        
        /* Estilos para formularios en el creador de cómics */
        .form-control {
            width: 100%;
            padding: 10px;
            border-radius: 5px;
            border: 2px solid var(--primary);
            background: rgba(255,255,255,0.9);
            font-family: 'Roboto', sans-serif;
        }
        
        textarea.form-control {
            min-height: 100px;
            resize: vertical;
        }
        
        .character-selection {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
        }
        
        /* Zona de detección del mouse para mostrar header */
        .mouse-detection-zone {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 50px;
            z-index: 999;
            pointer-events: none;
        }
        
        .mouse-detection-zone.active {
            pointer-events: auto;
        }
    </style>
</head>
<body>
    <!-- Partículas flotantes -->
    <div class="floating-particles" id="particles"></div>
    
    <!-- Líneas de movimiento cómic -->
    <div class="motion-line" style="width: 200px; height: 5px; top: 200px; left: 10%;"></div>
    <div class="motion-line" style="width: 150px; height: 5px; top: 400px; right: 15%;"></div>
    
    <!-- Zona de detección del mouse para mostrar header -->
    <div class="mouse-detection-zone" id="mouseDetectionZone"></div>
    
    <!-- Header completo -->
    <header class="comic-header visible" id="mainHeader">
        <div class="container main-header">
            <a href="#inicio" class="logo nav-link" data-section="inicio">EDU<span>CÓMIC</span></a>
            
            <div class="search-bar hover-float">
                <input type="text" placeholder="Buscar contenido educativo...">
                <button><i class="fas fa-search"></i></button>
            </div>
            
            <div class="user-actions">
                <div class="user-welcome" id="userWelcome">
                    <i class="fas fa-user-graduate"></i>
                    <span id="usernameDisplay">Estudiante</span>
                    <button class="logout-btn" id="logoutBtn">
                        <i class="fas fa-sign-out-alt"></i>
                    </button>
                </div>
                <a href="#" class="sign-in hover-float" id="signInBtn"><i class="fas fa-user"></i> Iniciar Sesión</a>
                <button class="btn btn-comic-creator hover-float" id="comicCreatorBtn">
                    <i class="fas fa-pencil-alt"></i> CREAR CÓMIC
                </button>
            </div>
        </div>
        
        <nav class="comic-nav">
            <div class="container">
                <ul class="nav-list">
                    <li><a href="#inicio" class="hover-float nav-link" data-section="inicio"><i class="fas fa-home"></i> INICIO</a></li>
                    <li class="dropdown">
                        <a href="#matematicas" class="hover-float nav-link nav-matematicas" data-section="matematicas"><i class="fas fa-calculator"></i> MATEMÁTICAS <i class="fas fa-chevron-down"></i></a>
                        <ul class="dropdown-menu">
                            <li><a href="#matematicas/estadisticas" class="nav-link" data-section="matematicas"><i class="fas fa-chart-bar"></i> Estadísticas</a></li>
                            <li><a href="#matematicas/geometria" class="nav-link" data-section="matematicas"><i class="fas fa-shapes"></i> Geometría</a></li>
                            <li><a href="#matematicas/algebra" class="nav-link" data-section="matematicas"><i class="fas fa-superscript"></i> Álgebra</a></li>
                            <li><a href="#matematicas/aritmetica" class="nav-link" data-section="matematicas"><i class="fas fa-calculator"></i> Aritmética</a></li>
                        </ul>
                    </li>
                    <li class="dropdown">
                        <a href="#lengua" class="hover-float nav-link nav-lengua" data-section="lengua"><i class="fas fa-book-open"></i> LENGUA <i class="fas fa-chevron-down"></i></a>
                        <ul class="dropdown-menu">
                            <li><a href="#lengua/escritura" class="nav-link" data-section="lengua"><i class="fas fa-pen-fancy"></i> Escritura Creativa</a></li>
                            <li><a href="#lengua/lectura" class="nav-link" data-section="lengua"><i class="fas fa-book-reader"></i> Lectura</a></li>
                            <li><a href="#lengua/gramatica" class="nav-link" data-section="lengua"><i class="fas fa-spell-check"></i> Gramática</a></li>
                            <li><a href="#lengua/concurso" class="nav-link" data-section="lengua"><i class="fas fa-trophy"></i> Concurso Literario</a></li>
                        </ul>
                    </li>
                    <li class="dropdown">
                        <a href="#sociales" class="hover-float nav-link nav-sociales" data-section="sociales"><i class="fas fa-globe-americas"></i> SOCIALES <i class="fas fa-chevron-down"></i></a>
                        <ul class="dropdown-menu">
                            <li><a href="#sociales/historia" class="nav-link" data-section="sociales"><i class="fas fa-landmark"></i> Historia</a></li>
                            <li><a href="#sociales/cultura" class="nav-link" data-section="sociales"><i class="fas fa-theater-masks"></i> Cultura</a></li>
                            <li><a href="#sociales/valores" class="nav-link" data-section="sociales"><i class="fas fa-handshake"></i> Valores</a></li>
                            <li><a href="#sociales/mapa" class="nav-link" data-section="sociales"><i class="fas fa-map-marked-alt"></i> Mapa Interactivo</a></li>
                        </ul>
                    </li>
                    <li class="dropdown">
                        <a href="#naturales" class="hover-float nav-link nav-naturales" data-section="naturales"><i class="fas fa-leaf"></i> NATURALES <i class="fas fa-chevron-down"></i></a>
                        <ul class="dropdown-menu">
                            <li><a href="#naturales/ecologia" class="nav-link" data-section="naturales"><i class="fas fa-recycle"></i> Ecología</a></li>
                            <li><a href="#naturales/cuerpo" class="nav-link" data-section="naturales"><i class="fas fa-heartbeat"></i> Cuerpo Humano</a></li>
                            <li><a href="#naturales/experimentos" class="nav-link" data-section="naturales"><i class="fas fa-flask"></i> Experimentos</a></li>
                            <li><a href="#naturales/energia" class="nav-link" data-section="naturales"><i class="fas fa-solar-panel"></i> Energías</a></li>
                        </ul>
                    </li>
                    <li><a href="#galeria" class="hover-float nav-link" data-section="galeria"><i class="fas fa-images"></i> GALERÍA</a></li>
                    <li><a href="#ranking" class="hover-float nav-link" data-section="ranking"><i class="fas fa-trophy"></i> RANKING</a></li>
                </ul>
            </div>
        </nav>
    </header>
    
    <!-- Contenido Dinámico -->
    <main class="main-content container" id="contentContainer">
        <!-- Sección de Inicio -->
        <section id="inicio" class="content-section active"></section>
        
        <!-- Sección de Matemáticas -->
        <section id="matematicas" class="content-section"></section>
        
        <!-- Sección de Lengua -->
        <section id="lengua" class="content-section"></section>
        
        <!-- Sección de Ciencias Sociales -->
        <section id="sociales" class="content-section"></section>
        
        <!-- Sección de Ciencias Naturales -->
        <section id="naturales" class="content-section"></section>
        
        <!-- Sección de Galería -->
        <section id="galeria" class="content-section"></section>
        
        <!-- Sección de Ranking -->
        <section id="ranking" class="content-section"></section>
    </main>
    
    <!-- Footer Reducido - Solo Materias y Contactos -->
    <footer class="comic-footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-column">
                    <h3>MATERIAS</h3>
                    <ul>
                        <li><a href="#matematicas" class="nav-link" data-section="matematicas"><i class="fas fa-calculator"></i> Matemáticas</a></li>
                        <li><a href="#lengua" class="nav-link" data-section="lengua"><i class="fas fa-book-open"></i> Lengua Española</a></li>
                        <li><a href="#sociales" class="nav-link" data-section="sociales"><i class="fas fa-globe-americas"></i> Ciencias Sociales</a></li>
                        <li><a href="#naturales" class="nav-link" data-section="naturales"><i class="fas fa-leaf"></i> Ciencias Naturales</a></li>
                        <li><a href="#galeria" class="nav-link" data-section="galeria"><i class="fas fa-images"></i> Galería de Cómics</a></li>
                        <li><a href="#ranking" class="nav-link" data-section="ranking"><i class="fas fa-trophy"></i> Ranking Estudiantil</a></li>
                    </ul>
                </div>
                
                <div class="footer-column">
                    <h3>CONTACTO</h3>
                    <ul>
                        <li><a href="#" class="social-link"><i class="fab fa-facebook-f"></i> Facebook</a></li>
                        <li><a href="#" class="social-link"><i class="fab fa-twitter"></i> Twitter</a></li>
                        <li><a href="#" class="social-link"><i class="fab fa-instagram"></i> Instagram</a></li>
                        <li><a href="#" class="social-link"><i class="fab fa-youtube"></i> YouTube</a></li>
                    </ul>
                    <div class="footer-contact-info">
                        <p><i class="fas fa-map-marker-alt"></i> Portal Educativo Digital</p>
                        <p><i class="fas fa-envelope"></i> info@educomic.org</p>
                        <p><i class="fas fa-phone"></i> +34 123 456 789</p>
                    </div>
                </div>
            </div>
            
            <div class="footer-bottom">
                <p>EDUCÓMIC™ & © 2024 Portal Educativo Digital. Todos los derechos reservados.</p>
                <p style="margin-top: 10px; font-size: 0.8rem;">
                    <a href="#" style="color: var(--primary);">Política de Privacidad</a> | 
                    <a href="#" style="color: var(--primary);">Términos de Uso</a> | 
                    <a href="#" style="color: var(--primary);">Mapa del Sitio</a>
                </p>
            </div>
        </div>
    </footer>
    
    <!-- Modal de Login -->
    <div class="modal" id="loginModal">
        <div class="modal-content hover-float">
            <span class="modal-close" id="closeModal">&times;</span>
            <h2 class="modal-title">ACCESO AL PORTAL</h2>
            <form id="loginForm">
                <div class="form-group">
                    <label for="email"><i class="fas fa-envelope"></i> Correo Electrónico</label>
                    <input type="email" id="email" placeholder="estudiante@educomic.org" required>
                </div>
                <div class="form-group">
                    <label for="password"><i class="fas fa-key"></i> Contraseña</label>
                    <input type="password" id="password" placeholder="Tu contraseña" required>
                </div>
                <div class="form-group">
                    <label for="username"><i class="fas fa-user"></i> Nombre de Usuario</label>
                    <input type="text" id="username" placeholder="Como te llamaremos" required>
                </div>
                <button type="submit" class="btn hover-float" style="width: 100%;">
                    <i class="fas fa-rocket"></i> Acceder al Portal
                </button>
                <div style="text-align: center; margin-top: 25px;">
                    <a href="#" id="forgotPassword"><i class="fas fa-question-circle"></i> ¿Olvidaste tu contraseña?</a>
                </div>
            </form>
        </div>
    </div>
    
    <!-- Modal de Creador de Cómics -->
    <div class="modal" id="comicCreatorModal">
        <div class="modal-content hover-float">
            <span class="modal-close" id="closeComicModal">&times;</span>
            <h2 class="modal-title">CREADOR DE CÓMICS EDUCATIVOS</h2>
            <div class="comic-creator">
                <div class="comic-bubble">
                    ¡Crea tu propio cómic educativo! Elige una materia y comienza tu historia.
                </div>
                
                <div class="comic-tools">
                    <div class="tool-group">
                        <h3><i class="fas fa-book"></i> Materia</h3>
                        <select id="materiaSelect" class="form-control">
                            <option value="matematicas">Matemáticas</option>
                            <option value="lengua">Lengua Española</option>
                            <option value="sociales">Ciencias Sociales</option>
                            <option value="naturales">Ciencias Naturales</option>
                        </select>
                    </div>
                    
                    <div class="tool-group">
                        <h3><i class="fas fa-palette"></i> Estilo</h3>
                        <select id="estiloSelect" class="form-control">
                            <option value="ciberpunk">Estilo Ciberpunk</option>
                            <option value="japones">Estilo Japonés</option>
                            <option value="comic">Cómic Tradicional</option>
                            <option value="educativo">Estilo Educativo</option>
                        </select>
                    </div>
                    
                    <div class="tool-group">
                        <h3><i class="fas fa-image"></i> Personajes</h3>
                        <div class="character-selection">
                            <button type="button" class="btn" id="addProfesor">Profesor</button>
                            <button type="button" class="btn" id="addEstudiante">Estudiante</button>
                            <button type="button" class="btn" id="addCientifico">Científico</button>
                            <button type="button" class="btn" id="addHistorico">Histórico</button>
                        </div>
                    </div>
                    
                    <div class="tool-group">
                        <h3><i class="fas fa-font"></i> Texto</h3>
                        <textarea id="comicText" class="form-control" placeholder="Escribe el diálogo o narración aquí..." rows="3"></textarea>
                    </div>
                </div>
                
                <div class="comic-panel" id="comicPanel">
                    <div id="comicContent">
                        <h3 style="text-align: center; color: var(--text-dark);">Tu cómic aparecerá aquí</h3>
                        <p style="text-align: center; color: var(--text-dark);">Usa las herramientas para crear tu historia educativa</p>
                    </div>
                </div>
                
                <div style="display: flex; gap: 10px; justify-content: center; margin-top: 20px;">
                    <button class="btn" id="addPanelBtn"><i class="fas fa-plus"></i> Añadir Panel</button>
                    <button class="btn" id="clearComicBtn"><i class="fas fa-trash"></i> Limpiar</button>
                    <button class="btn" id="saveComicBtn"><i class="fas fa-save"></i> Guardar Cómic</button>
                    <button class="btn" id="shareComicBtn"><i class="fas fa-share"></i> Compartir</button>
                </div>
                
                <div class="comic-bubble" style="margin-top: 20px;">
                    <strong>Consejo:</strong> Puedes crear cómics sobre problemas matemáticos, historias literarias, sucesos históricos o experimentos científicos.
                </div>
            </div>
        </div>
    </div>
    
    <!-- Templates para contenido dinámico -->
    <template id="inicio-template">
        <div class="hero">
            <div class="hero-slider">
                <div class="slide active" style="background-image: linear-gradient(rgba(7,7,9,0.7), rgba(7,7,9,0.7)), url('https://images.unsplash.com/photo-1635070041078-e363dbe005cb?ixlib=rb-4.0.3&auto=format&fit=crop&w=1470&q=80')">
                    <div class="slide-content hover-float">
                        <h2 class="slide-title">¡APRENDE CON CÓMICS!</h2>
                        <p class="slide-text">Descubre las 4 materias básicas a través de historias interactivas, personajes fascinantes y mucho más. ¡La educación nunca fue tan divertida!</p>
                        <button class="btn" id="startLearningBtn"><i class="fas fa-play"></i> Comenzar Aprendizaje</button>
                    </div>
                </div>
                
                <div class="slide" style="background-image: linear-gradient(rgba(7,7,9,0.7), rgba(7,7,9,0.7)), url('https://images.unsplash.com/photo-1581276879432-15e50529f34b?ixlib=rb-4.0.3&auto=format&fit=crop&w=1470&q=80')">
                    <div class="slide-content hover-float">
                        <h2 class="slide-title">CREA TU PROPIO CÓMIC</h2>
                        <p class="slide-text">Con nuestro creador de cómics educativo, puedes hacer tus propias historias sobre matemáticas, lengua, ciencias sociales y naturales.</p>
                        <button class="btn btn-comic-creator" id="openCreatorFromSlide"><i class="fas fa-pencil-alt"></i> Crear Cómic Educativo</button>
                    </div>
                </div>
                
                <div class="slide" style="background-image: linear-gradient(rgba(7,7,9,0.7), rgba(7,7,9,0.7)), url('https://images.unsplash.com/photo-1542744094-3a31f272c490?ixlib=rb-4.0.3&auto=format&fit=crop&w=1470&q=80')">
                    <div class="slide-content hover-float">
                        <h2 class="slide-title">RANKING Y LOGROS</h2>
                        <p class="slide-text">Participa en concursos, gana puntos por tus creaciones y compite con otros estudiantes. ¡Tu esfuerzo tiene recompensa!</p>
                        <a href="#ranking" class="btn nav-link" data-section="ranking"><i class="fas fa-trophy"></i> Ver Ranking</a>
                    </div>
                </div>
                
                <div class="slide-indicators">
                    <div class="indicator active" data-slide="0"></div>
                    <div class="indicator" data-slide="1"></div>
                    <div class="indicator" data-slide="2"></div>
                </div>
            </div>
        </div>
        
        <div class="info-highlights">
            <div class="comic-card matematicas-card hover-float">
                <i class="fas fa-calculator"></i>
                <h3>Matemáticas</h3>
                <p>Aprende matemáticas con gráficas interactivas, estadísticas en tiempo real y problemas resueltos como cómics. ¡Las matemáticas nunca fueron tan divertidas!</p>
                <a href="#matematicas" class="btn nav-link" data-section="matematicas" style="margin-top: 15px; display: inline-block; background: var(--matematicas-light); border-color: var(--matematicas-light);">Explorar Matemáticas</a>
            </div>
            
            <div class="comic-card lengua-card hover-float">
                <i class="fas fa-book-open"></i>
                <h3>Lengua Española</h3>
                <p>Escribe tus propias historias, mejora tu ortografía y participa en concursos literarios. ¡Conviértete en un gran escritor de cómics educativos!</p>
                <a href="#lengua" class="btn nav-link" data-section="lengua" style="margin-top: 15px; display: inline-block; background: var(--lengua-red); border-color: var(--lengua-red);">Explorar Lengua</a>
            </div>
            
            <div class="comic-card sociales-card hover-float">
                <i class="fas fa-globe-americas"></i>
                <h3>Ciencias Sociales</h3>
                <p>Descubre la historia, cultura y valores a través de cómics interactivos. Explora mapas y conoce personajes históricos importantes.</p>
                <a href="#sociales" class="btn nav-link" data-section="sociales" style="margin-top: 15px; display: inline-block; background: var(--sociales-turq); border-color: var(--sociales-turq);">Explorar Sociales</a>
            </div>
            
            <div class="comic-card naturales-card hover-float">
                <i class="fas fa-leaf"></i>
                <h3>Ciencias Naturales</h3>
                <p>Aprende sobre ecología, el cuerpo humano y experimentos científicos mediante cómics educativos. ¡Cuida el planeta mientras aprendes!</p>
                <a href="#naturales" class="btn nav-link" data-section="naturales" style="margin-top: 15px; display: inline-block; background: var(--naturales-neon); border-color: var(--naturales-neon);">Explorar Naturales</a>
            </div>
        </div>
        
        <div class="comic-bubble" style="max-width: 800px; margin: 40px auto;">
            <h3 style="text-align: center; color: black; margin-bottom: 15px;">¡Novedad!</h3>
            <p style="color: black; text-align: center;">Concurso de cómics educativos: Crea tu propio cómic sobre cualquiera de las 4 materias básicas y gana premios increíbles. ¡Participa ahora!</p>
            <button class="btn" id="participateContestBtn" style="display: block; margin: 15px auto 0; background: var(--sociales-complement-purple);">Participar en Concurso</button>
        </div>
    </template>
    
    <template id="matematicas-template">
        <h2 class="section-title section-title-matematicas hover-float">🧮 MATEMÁTICAS</h2>
        <div style="text-align: center; margin-bottom: 40px;">
            <p style="font-size: 1.2rem; max-width: 800px; margin: 0 auto 40px; color: var(--matematicas-light);">Aprende matemáticas mediante estadísticas, gráficas y problemas interactivos presentados en formato cómic.</p>
        </div>
        
        <div class="comic-bubble" style="max-width: 800px; margin: 0 auto 40px; border-color: var(--matematicas-light);">
            <h3 style="color: var(--matematicas-navy); text-align: center;">¡Las matemáticas en acción!</h3>
            <p style="color: black;">Usa fórmulas para calcular promedios, crear rankings y analizar datos de forma divertida. Convierte problemas complejos en cómics comprensibles.</p>
        </div>
        
        <div class="card-grid">
            <div class="comic-card matematicas-card hover-float">
                <i class="fas fa-chart-bar"></i>
                <h3>Estadísticas en Tiempo Real</h3>
                <p><strong>Promedios:</strong> Calcula la media de calificaciones de los cómics creados por los usuarios.</p>
                <p><strong>Rankings:</strong> Sistema de puntuación según popularidad y calidad.</p>
                <p><strong>Porcentajes:</strong> Análisis de participación estudiantil.</p>
                <button class="btn showMathExampleBtn" data-type="estadisticas" style="margin-top: 15px; width: 100%; background: var(--matematicas-light); border-color: var(--matematicas-light);">Ver Ejemplo</button>
            </div>
            
            <div class="comic-card matematicas-card hover-float">
                <i class="fas fa-shapes"></i>
                <h3>Geometría con Cómics</h3>
                <p>Aprende formas geométricas a través de historias visuales. Desde triángulos hasta esferas, todo en formato cómic.</p>
                <div id="geometriaChart" style="height: 150px; background: var(--matematicas-navy); border-radius: 10px; margin: 15px 0; display: flex; align-items: center; justify-content: center;">
                    <i class="fas fa-drafting-compass" style="font-size: 4rem; color: var(--matematicas-light);"></i>
                </div>
                <button class="btn showMathExampleBtn" data-type="geometria" style="margin-top: 15px; width: 100%; background: var(--matematicas-light); border-color: var(--matematicas-light);">Explorar Geometría</button>
            </div>
            
            <div class="comic-card matematicas-card hover-float">
                <i class="fas fa-superscript"></i>
                <h3>Álgebra Visual</h3>
                <p>Resuelve ecuaciones y problemas algebraicos mediante cómics paso a paso. Aprende de forma visual y divertida.</p>
                <div style="background: var(--matematicas-navy); padding: 15px; border-radius: 10px; margin: 15px 0; font-family: monospace;">
                    <p style="color: var(--matematicas-light); margin: 0;">2x + 5 = 15</p>
                    <p style="color: var(--matematicas-light); margin: 5px 0;">2x = 10</p>
                    <p style="color: var(--matematicas-light); margin: 0;">x = 5</p>
                </div>
                <button class="btn showMathExampleBtn" data-type="algebra" style="margin-top: 15px; width: 100%; background: var(--matematicas-light); border-color: var(--matematicas-light);">Resolver Problemas</button>
            </div>
        </div>
        
        <div style="margin-top: 50px;">
            <h3 style="text-align: center; color: var(--matematicas-light); margin-bottom: 30px; font-family: 'Bangers', cursive; font-size: 2rem;">Personajes Matemáticos Famosos</h3>
            <div class="character-grid">
                <div class="character-card">
                    <img src="https://images.unsplash.com/photo-1589256469067-ea99122bbdc4?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80" alt="Pitágoras" class="character-img">
                    <div class="character-info">
                        <h4 class="character-name">Pitágoras</h4>
                        <p class="character-description">Matemático griego famoso por su teorema sobre los triángulos rectángulos. Revolucionó las matemáticas y la filosofía.</p>
                        <button class="btn showCharacterInfoBtn" data-character="pitagoras" style="background: var(--matematicas-light); border-color: var(--matematicas-light); margin-top: 10px; width: 100%;">Ver Cómic</button>
                    </div>
                </div>
                
                <div class="character-card">
                    <img src="https://images.unsplash.com/photo-1559757148-5c350d0d3c56?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80" alt="Ada Lovelace" class="character-img">
                    <div class="character-info">
                        <h4 class="character-name">Ada Lovelace</h4>
                        <p class="character-description">Primera programadora de la historia. Colaboró con Charles Babbage y sentó las bases de la computación moderna.</p>
                        <button class="btn showCharacterInfoBtn" data-character="ada" style="background: var(--matematicas-light); border-color: var(--matematicas-light); margin-top: 10px; width: 100%;">Ver Cómic</button>
                    </div>
                </div>
                
                <div class="character-card">
                    <img src="https://images.unsplash.com/photo-1596495577886-d920f1fb7238?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80" alt="Albert Einstein" class="character-img">
                    <div class="character-info">
                        <h4 class="character-name">Albert Einstein</h4>
                        <p class="character-description">Físico teórico que desarrolló la teoría de la relatividad, ganador del Premio Nobel de Física en 1921.</p>
                        <button class="btn showCharacterInfoBtn" data-character="einstein" style="background: var(--matematicas-light); border-color: var(--matematicas-light); margin-top: 10px; width: 100%;">Ver Cómic</button>
                    </div>
                </div>
            </div>
        </div>
    </template>
    
    <template id="lengua-template">
        <h2 class="section-title section-title-lengua hover-float">📚 LENGUA ESPAÑOLA</h2>
        <div style="text-align: center; margin-bottom: 40px;">
            <p style="font-size: 1.2rem; max-width: 800px; margin: 0 auto 40px; color: var(--lengua-red);">Desarrolla tus habilidades de escritura y lectura a través de cómics creativos, concursos literarios y ejercicios interactivos.</p>
        </div>
        
        <div class="comic-bubble" style="max-width: 800px; margin: 0 auto 40px; border-color: var(--lengua-red);">
            <h3 style="color: var(--lengua-deep-red); text-align: center;">¡Escribe tu propia historia!</h3>
            <p style="color: black;">Publica tus textos, mejora tu ortografía y participa en concursos literarios. Convierte tus ideas en cómics fascinantes.</p>
        </div>
        
        <div class="card-grid">
            <div class="comic-card lengua-card hover-float">
                <i class="fas fa-pen-fancy"></i>
                <h3>Escritura Creativa</h3>
                <p><strong>Publica:</strong> Comparte tus historias cortas, poemas y reflexiones.</p>
                <p><strong>Recibe feedback:</strong> Obtén comentarios de otros estudiantes y profesores.</p>
                <p><strong>Mejora:</strong> Usa nuestras herramientas de corrección ortográfica.</p>
                <button class="btn" id="startWritingBtn" style="margin-top: 15px; width: 100%; background: var(--lengua-red); border-color: var(--lengua-red);">Comenzar a Escribir</button>
            </div>
            
            <div class="comic-card lengua-card hover-float">
                <i class="fas fa-book-reader"></i>
                <h3>Club de Lectura</h3>
                <p>Únete a nuestro club de lectura digital y discute libros con otros estudiantes. Cada mes, un nuevo libro en formato cómic.</p>
                <div id="readingProgress" style="height: 10px; background: var(--lengua-deep-red); border-radius: 5px; margin: 15px 0; overflow: hidden;">
                    <div style="width: 75%; height: 100%; background: var(--lengua-red);"></div>
                </div>
                <p style="font-size: 0.9rem; color: var(--lengua-red);">Progreso del libro del mes: 75%</p>
                <button class="btn" id="joinBookClubBtn" style="margin-top: 15px; width: 100%; background: var(--lengua-red); border-color: var(--lengua-red);">Unirse al Club</button>
            </div>
            
            <div class="comic-card lengua-card hover-float">
                <i class="fas fa-trophy"></i>
                <h3>Concurso Literario</h3>
                <p>Participa en nuestro concurso mensual de cómics literarios. Temas variados, premios increíbles y reconocimiento en la comunidad.</p>
                <div style="background: var(--lengua-deep-red); padding: 15px; border-radius: 10px; margin: 15px 0;">
                    <p style="color: var(--lengua-red); margin: 0; font-weight: bold;">Tema actual:</p>
                    <p style="color: white; margin: 5px 0 0;">"Una aventura en el espacio"</p>
                </div>
                <button class="btn" id="enterContestBtn" style="margin-top: 15px; width: 100%; background: var(--lengua-red); border-color: var(--lengua-red);">Participar en Concurso</button>
            </div>
        </div>
        
        <div style="margin-top: 50px;">
            <h3 style="text-align: center; color: var(--lengua-red); margin-bottom: 30px; font-family: 'Bangers', cursive; font-size: 2rem;">Grandes Escritores</h3>
            <div class="character-grid">
                <div class="character-card">
                    <img src="https://images.unsplash.com/photo-1544716278-e513176f20b5?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80" alt="Miguel de Cervantes" class="character-img">
                    <div class="character-info">
                        <h4 class="character-name">Miguel de Cervantes</h4>
                        <p class="character-description">Autor de "Don Quijote de la Mancha", considerada la primera novela moderna y una de las mejores obras de la literatura universal.</p>
                        <button class="btn showCharacterInfoBtn" data-character="cervantes" style="background: var(--lengua-red); border-color: var(--lengua-red); margin-top: 10px; width: 100%;">Leer Cómic</button>
                    </div>
                </div>
                
                <div class="character-card">
                    <img src="https://images.unsplash.com/photo-1541961017774-22349e4a1262?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80" alt="Gabriel García Márquez" class="character-img">
                    <div class="character-info">
                        <h4 class="character-name">Gabriel García Márquez</h4>
                        <p class="character-description">Escritor colombiano, ganador del Nobel de Literatura en 1982, autor de "Cien años de soledad" y máximo exponente del realismo mágico.</p>
                        <button class="btn showCharacterInfoBtn" data-character="garcia-marquez" style="background: var(--lengua-red); border-color: var(--lengua-red); margin-top: 10px; width: 100%;">Leer Cómic</button>
                    </div>
                </div>
                
                <div class="character-card">
                    <img src="https://images.unsplash.com/photo-1512820790803-83ca734da794?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80" alt="Isabel Allende" class="character-img">
                    <div class="character-info">
                        <h4 class="character-name">Isabel Allende</h4>
                        <p class="character-description">Escritora chilena, una de las autoras más leídas en español. Autora de "La casa de los espíritus" y muchas otras novelas exitosas.</p>
                        <button class="btn showCharacterInfoBtn" data-character="allende" style="background: var(--lengua-red); border-color: var(--lengua-red); margin-top: 10px; width: 100%;">Leer Cómic</button>
                    </div>
                </div>
            </div>
        </div>
    </template>
    
    <template id="sociales-template">
        <h2 class="section-title section-title-sociales hover-float">🌎 CIENCIAS SOCIALES</h2>
        <div style="text-align: center; margin-bottom: 40px;">
            <p style="font-size: 1.2rem; max-width: 800px; margin: 0 auto 40px; color: var(--sociales-turq);">Explora la historia, cultura, valores y geografía a través de cómics interactivos y mapas digitales.</p>
        </div>
        
        <div class="comic-bubble" style="max-width: 800px; margin: 0 auto 40px; border-color: var(--sociales-turq);">
            <h3 style="color: var(--sociales-blue); text-align: center;">¡Conoce tu mundo!</h3>
            <p style="color: black;">Aprende sobre culturas, eventos históricos importantes y valores sociales mediante cómics educativos. Explora mapas interactivos y descubre nuevas perspectivas.</p>
        </div>
        
        <div class="card-grid">
            <div class="comic-card sociales-card hover-float">
                <i class="fas fa-landmark"></i>
                <h3>Historia en Cómics</h3>
                <p><strong>Eventos clave:</strong> Aprende sobre guerras, revoluciones y descubrimientos.</p>
                <p><strong>Biografías:</strong> Conoce a los personajes que cambiaron el mundo.</p>
                <p><strong>Cronologías:</strong> Viaja en el tiempo con nuestras líneas temporales interactivas.</p>
                <button class="btn" id="showHistoryTimelineBtn" style="margin-top: 15px; width: 100%; background: var(--sociales-turq); border-color: var(--sociales-turq);">Ver Línea Temporal</button>
            </div>
            
            <div class="comic-card sociales-card hover-float">
                <i class="fas fa-theater-masks"></i>
                <h3>Cultura y Tradiciones</h3>
                <p>Descubre diferentes culturas del mundo a través de cómics sobre fiestas, comidas, música y tradiciones.</p>
                <div id="cultureCarousel" style="height: 150px; background: var(--sociales-blue); border-radius: 10px; margin: 15px 0; display: flex; align-items: center; justify-content: center;">
                    <i class="fas fa-globe-americas" style="font-size: 4rem; color: var(--sociales-turq);"></i>
                </div>
                <button class="btn" id="exploreCulturesBtn" style="margin-top: 15px; width: 100%; background: var(--sociales-turq); border-color: var(--sociales-turq);">Explorar Culturas</button>
            </div>
            
            <div class="comic-card sociales-card hover-float">
                <i class="fas fa-map-marked-alt"></i>
                <h3>Mapa Interactivo</h3>
                <p>Navega por nuestro mapa digital para aprender sobre geografía, capitales, ríos y montañas importantes.</p>
                <div style="background: var(--sociales-blue); padding: 15px; border-radius: 10px; margin: 15px 0; text-align: center;">
                    <p style="color: var(--sociales-turq); margin: 0; font-weight: bold;">Mapa del mundo</p>
                    <p style="color: white; margin: 5px 0 0;">196 países por descubrir</p>
                </div>
                <button class="btn" id="openInteractiveMapBtn" style="margin-top: 15px; width: 100%; background: var(--sociales-turq); border-color: var(--sociales-turq);">Abrir Mapa</button>
            </div>
        </div>
        
        <div style="margin-top: 50px;">
            <h3 style="text-align: center; color: var(--sociales-turq); margin-bottom: 30px; font-family: 'Bangers', cursive; font-size: 2rem;">Personajes Históricos</h3>
            <div class="character-grid">
                <div class="character-card">
                    <img src="https://images.unsplash.com/photo-1589652717521-10c0d092dea9?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80" alt="Simón Bolívar" class="character-img">
                    <div class="character-info">
                        <h4 class="character-name">Simón Bolívar</h4>
                        <p class="character-description">Conocido como "El Libertador", lideró las guerras de independencia de varios países sudamericanos contra el Imperio español.</p>
                        <button class="btn showCharacterInfoBtn" data-character="bolivar" style="background: var(--sociales-turq); border-color: var(--sociales-turq); margin-top: 10px; width: 100%;">Ver Cómic Histórico</button>
                    </div>
                </div>
                
                <div class="character-card">
                    <img src="https://images.unsplash.com/photo-1591117207239-788bf8f6d5ec?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80" alt="Rosa Parks" class="character-img">
                    <div class="character-info">
                        <h4 class="character-name">Rosa Parks</h4>
                        <p class="character-description">Activista afroamericana que se negó a ceder su asiento en un autobús segregado, convirtiéndose en un ícono del movimiento por los derechos civiles.</p>
                        <button class="btn showCharacterInfoBtn" data-character="rosa-parks" style="background: var(--sociales-turq); border-color: var(--sociales-turq); margin-top: 10px; width: 100%;">Ver Cómic Histórico</button>
                    </div>
                </div>
                
                <div class="character-card">
                    <img src="https://images.unsplash.com/photo-1545235617-9465d2a55698?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80" alt="Mahatma Gandhi" class="character-img">
                    <div class="character-info">
                        <h4 class="character-name">Mahatma Gandhi</h4>
                        <p class="character-description">Líder del movimiento de independencia de la India y pionero de la filosofía de la no violencia. Su lucha inspiró movimientos por los derechos civiles en todo el mundo.</p>
                        <button class="btn showCharacterInfoBtn" data-character="gandhi" style="background: var(--sociales-turq); border-color: var(--sociales-turq); margin-top: 10px; width: 100%;">Ver Cómic Histórico</button>
                    </div>
                </div>
            </div>
        </div>
    </template>
    
    <template id="naturales-template">
        <h2 class="section-title section-title-naturales hover-float">🌿 CIENCIAS NATURALES</h2>
        <div style="text-align: center; margin-bottom: 40px;">
            <p style="font-size: 1.2rem; max-width: 800px; margin: 0 auto 40px; color: var(--naturales-neon);">Descubre los secretos de la naturaleza, el cuerpo humano y el medio ambiente a través de cómics científicos y experimentos virtuales.</p>
        </div>
        
        <div class="comic-bubble" style="max-width: 800px; margin: 0 auto 40px; border-color: var(--naturales-neon);">
            <h3 style="color: var(--naturales-deep); text-align: center;">¡Explora la ciencia!</h3>
            <p style="color: black;">Aprende sobre ecología, biología, química y física mediante cómics interactivos. Realiza experimentos virtuales y descubre datos curiosos sobre el mundo natural.</p>
        </div>
        
        <div class="card-grid">
            <div class="comic-card naturales-card hover-float">
                <i class="fas fa-recycle"></i>
                <h3>Ecología y Medio Ambiente</h3>
                <p><strong>Reciclaje:</strong> Aprende a clasificar residuos y reducir tu huella ecológica.</p>
                <p><strong>Energías renovables:</strong> Descubre la importancia de la energía solar y eólica.</p>
                <p><strong>Biodiversidad:</strong> Conoce especies en peligro de extinción y cómo protegerlas.</p>
                <button class="btn" id="showEcologyComicBtn" style="margin-top: 15px; width: 100%; background: var(--naturales-neon); border-color: var(--naturales-neon);">Ver Cómic Ecológico</button>
            </div>
            
            <div class="comic-card naturales-card hover-float">
                <i class="fas fa-heartbeat"></i>
                <h3>El Cuerpo Humano</h3>
                <p>Explora los sistemas del cuerpo humano a través de cómics interactivos: digestivo, circulatorio, nervioso y más.</p>
                <div id="bodySystem" style="height: 150px; background: var(--naturales-deep); border-radius: 10px; margin: 15px 0; display: flex; align-items: center; justify-content: center;">
                    <i class="fas fa-lungs" style="font-size: 4rem; color: var(--naturales-neon);"></i>
                </div>
                <button class="btn" id="exploreBodySystemsBtn" style="margin-top: 15px; width: 100%; background: var(--naturales-neon); border-color: var(--naturales-neon);">Explorar Sistemas</button>
            </div>
            
            <div class="comic-card naturales-card hover-float">
                <i class="fas fa-flask"></i>
                <h3>Experimenta en Casa</h3>
                <p>Realiza experimentos científicos seguros desde tu hogar. Instrucciones paso a paso en formato cómic.</p>
                <div style="background: var(--naturales-deep); padding: 15px; border-radius: 10px; margin: 15px 0; text-align: center;">
                    <p style="color: var(--naturales-neon); margin: 0; font-weight: bold;">Experimento del mes:</p>
                    <p style="color: white; margin: 5px 0 0;">"Volcán de bicarbonato"</p>
                </div>
                <button class="btn" id="startExperimentBtn" style="margin-top: 15px; width: 100%; background: var(--naturales-neon); border-color: var(--naturales-neon);">Comenzar Experimento</button>
            </div>
        </div>
        
        <div style="margin-top: 50px;">
            <h3 style="text-align: center; color: var(--naturales-neon); margin-bottom: 30px; font-family: 'Bangers', cursive; font-size: 2rem;">Científicos Famosos</h3>
            <div class="character-grid">
                <div class="character-card">
                    <img src="https://images.unsplash.com/photo-1532094349884-543bc11b234d?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80" alt="Marie Curie" class="character-img">
                    <div class="character-info">
                        <h4 class="character-name">Marie Curie</h4>
                        <p class="character-description">Primera mujer en ganar un Nobel y primera persona en ganar dos Nobel en distintas especialidades (Física y Química). Descubrió el radio y el polonio.</p>
                        <button class="btn showCharacterInfoBtn" data-character="curie" style="background: var(--naturales-neon); border-color: var(--naturales-neon); margin-top: 10px; width: 100%;">Ver Cómic Científico</button>
                    </div>
                </div>
                
                <div class="character-card">
                    <img src="https://images.unsplash.com/photo-1530026405189-8e5d322e666f?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80" alt="Charles Darwin" class="character-img">
                    <div class="character-info">
                        <h4 class="character-name">Charles Darwin</h4>
                        <p class="character-description">Naturalista inglés que formuló la teoría de la evolución por selección natural. Su obra "El origen de las especies" revolucionó la biología.</p>
                        <button class="btn showCharacterInfoBtn" data-character="darwin" style="background: var(--naturales-neon); border-color: var(--naturales-neon); margin-top: 10px; width: 100%;">Ver Cómic Científico</button>
                    </div>
                </div>
                
                <div class="character-card">
                    <img src="https://images.unsplash.com/photo-1589256469067-ea99122bbdc4?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80" alt="Jane Goodall" class="character-img">
                    <div class="character-info">
                        <h4 class="character-name">Jane Goodall</h4>
                        <p class="character-description">Primatóloga y antropóloga británica, conocida por su estudio de 60 años de las interacciones sociales de los chimpancés salvajes.</p>
                        <button class="btn showCharacterInfoBtn" data-character="goodall" style="background: var(--naturales-neon); border-color: var(--naturales-neon); margin-top: 10px; width: 100%;">Ver Cómic Científico</button>
                    </div>
                </div>
            </div>
        </div>
    </template>
    
    <template id="galeria-template">
        <h2 class="section-title hover-float">🖼️ GALERÍA DE CÓMICS</h2>
        <div style="text-align: center; margin-bottom: 40px;">
            <p style="font-size: 1.2rem; max-width: 800px; margin: 0 auto 40px;">Explora los mejores cómics creados por la comunidad estudiantil. Filtra por materia, calificación o popularidad.</p>
        </div>
        
        <div class="filter-buttons">
            <button class="btn filter-gallery-btn" data-filter="all">Todos</button>
            <button class="btn filter-gallery-btn" data-filter="matematicas" style="background: var(--matematicas-light); border-color: var(--matematicas-light);">Matemáticas</button>
            <button class="btn filter-gallery-btn" data-filter="lengua" style="background: var(--lengua-red); border-color: var(--lengua-red);">Lengua</button>
            <button class="btn filter-gallery-btn" data-filter="sociales" style="background: var(--sociales-turq); border-color: var(--sociales-turq);">Sociales</button>
            <button class="btn filter-gallery-btn" data-filter="naturales" style="background: var(--naturales-neon); border-color: var(--naturales-neon);">Naturales</button>
            <button class="btn filter-gallery-btn" data-filter="popular"><i class="fas fa-fire"></i> Populares</button>
            <button class="btn filter-gallery-btn" data-filter="recent"><i class="fas fa-clock"></i> Recientes</button>
        </div>
        
        <div class="card-grid" id="galleryGrid">
            <!-- Los cómics se cargarán dinámicamente aquí -->
        </div>
        
        <div style="text-align: center; margin-top: 50px;">
            <button class="btn btn-comic-creator" id="openCreatorFromGallery">
                <i class="fas fa-plus"></i> CREAR MI PROPIO CÓMIC
            </button>
        </div>
    </template>
    
    <template id="ranking-template">
        <h2 class="section-title hover-float">🏆 RANKING ESTUDIANTIL</h2>
        <div style="text-align: center; margin-bottom: 40px;">
            <p style="font-size: 1.2rem; max-width: 800px; margin: 0 auto 40px;">Compite con otros estudiantes, gana puntos por tus creaciones y sube en el ranking. ¡Tu esfuerzo tiene recompensa!</p>
        </div>
        
        <div class="comic-bubble" style="max-width: 800px; margin: 0 auto 40px;">
            <h3 style="color: black; text-align: center;">Sistema de Puntos</h3>
            <p style="color: black;">Gana puntos por: crear cómics (+100), recibir likes (+10), comentar (+5), completar lecciones (+50) y participar en concursos (+200).</p>
        </div>
        
        <div class="card-grid">
            <div class="comic-card hover-float" style="border-color: gold; background: linear-gradient(135deg, rgba(25, 25, 46, 0.9), rgba(212, 175, 55, 0.2));">
                <i class="fas fa-crown" style="color: gold;"></i>
                <h3 style="color: gold;">Top 1: Cómic Master</h3>
                <p><strong>Puntos:</strong> 5,430</p>
                <p><strong>Cómics creados:</strong> 42</p>
                <p><strong>Logros:</strong> 15</p>
                <div style="height: 20px; background: #333; border-radius: 10px; margin: 15px 0; overflow: hidden;">
                    <div style="width: 85%; height: 100%; background: gold;"></div>
                </div>
            </div>
            
            <div class="comic-card hover-float" style="border-color: silver; background: linear-gradient(135deg, rgba(25, 25, 46, 0.9), rgba(192, 192, 192, 0.2));">
                <i class="fas fa-medal" style="color: silver;"></i>
                <h3 style="color: silver;">Top 2: Science Hero</h3>
                <p><strong>Puntos:</strong> 4,890</p>
                <p><strong>Cómics creados:</strong> 38</p>
                <p><strong>Logros:</strong> 12</p>
                <div style="height: 20px; background: #333; border-radius: 10px; margin: 15px 0; overflow: hidden;">
                    <div style="width: 75%; height: 100%; background: silver;"></div>
                </div>
            </div>
            
            <div class="comic-card hover-float" style="border-color: #cd7f32; background: linear-gradient(135deg, rgba(25, 25, 46, 0.9), rgba(205, 127, 50, 0.2));">
                <i class="fas fa-award" style="color: #cd7f32;"></i>
                <h3 style="color: #cd7f32;">Top 3: Math Genius</h3>
                <p><strong>Puntos:</strong> 4,210</p>
                <p><strong>Cómics creados:</strong> 35</p>
                <p><strong>Logros:</strong> 10</p>
                <div style="height: 20px; background: #333; border-radius: 10px; margin: 15px 0; overflow: hidden;">
                    <div style="width: 65%; height: 100%; background: #cd7f32;"></div>
                </div>
            </div>
        </div>
        
        <div style="margin-top: 50px; background: rgba(255,255,255,0.1); padding: 30px; border-radius: 15px;">
            <h3 style="text-align: center; color: var(--primary); margin-bottom: 30px;">Mi Progreso</h3>
            <div id="userProgress">
                <p><strong>Mi posición:</strong> #15</p>
                <p><strong>Mis puntos:</strong> 1,250</p>
                <p><strong>Cómics creados:</strong> 8</p>
                <p><strong>Logros desbloqueados:</strong> 3/20</p>
                <div style="height: 20px; background: #333; border-radius: 10px; margin: 15px 0; overflow: hidden;">
                    <div style="width: 40%; height: 100%; background: var(--primary);"></div>
                </div>
                <p style="text-align: center; font-size: 0.9rem;">Progreso hacia el siguiente nivel: 40%</p>
            </div>
            <div style="text-align: center; margin-top: 30px;">
                <button class="btn" id="viewMyComicsBtn"><i class="fas fa-book"></i> Ver Mis Cómics</button>
                <button class="btn" id="viewAchievementsBtn"><i class="fas fa-trophy"></i> Ver Logros</button>
                <button class="btn" id="openCreatorFromRanking"><i class="fas fa-plus"></i> Crear Nuevo Cómic</button>
            </div>
        </div>
    </template>
    
    <script>
        // Estado del usuario
        let currentUser = null;
        let currentSection = 'inicio';
        let comicPanels = [];
        let slideInterval;
        let lastScrollY = 0;
        let isHeaderHidden = false;
        let hideTimeout = null;
        let showTimeout = null;
        
        // Generar partículas flotantes
        function createParticles() {
            const particlesContainer = document.getElementById('particles');
            const particleCount = 40; // Más partículas
            
            for (let i = 0; i < particleCount; i++) {
                const particle = document.createElement('div');
                particle.classList.add('particle');
                
                // Tamaño aleatorio
                const size = Math.random() * 60 + 20;
                particle.style.width = `${size}px`;
                particle.style.height = `${size}px`;
                
                // Posición aleatoria
                particle.style.left = `${Math.random() * 100}%`;
                particle.style.top = `${Math.random() * 100}%`;
                
                // Opacidad aleatoria
                particle.style.opacity = Math.random() * 0.2 + 0.1;
                
                // Animación personalizada para cada partícula
                const duration = Math.random() * 30 + 20;
                const delay = Math.random() * 20;
                particle.style.animationDuration = `${duration}s`;
                particle.style.animationDelay = `${delay}s`;
                
                particlesContainer.appendChild(particle);
            }
        }
        
        // Sistema de navegación por secciones
        function navigateToSection(sectionId) {
            // Detener el slider si existe
            if (slideInterval) {
                clearInterval(slideInterval);
                slideInterval = null;
            }
            
            // Ocultar todas las secciones
            document.querySelectorAll('.content-section').forEach(section => {
                section.classList.remove('active');
                section.innerHTML = '';
            });
            
            // Mostrar la sección seleccionada
            const targetSection = document.getElementById(sectionId);
            if (targetSection) {
                targetSection.classList.add('active');
                currentSection = sectionId;
                
                // Cargar el contenido de la sección
                loadSectionContent(sectionId);
                
                // Actualizar la URL
                history.pushState({section: sectionId}, '', `#${sectionId}`);
                
                // Scroll suave al principio de la sección
                window.scrollTo({
                    top: document.querySelector('.main-content').offsetTop - 100,
                    behavior: 'smooth'
                });
            }
        }
        
        // Cargar contenido de sección
        function loadSectionContent(sectionId) {
            const section = document.getElementById(sectionId);
            const template = document.getElementById(`${sectionId}-template`);
            
            if (template) {
                const content = document.importNode(template.content, true);
                section.appendChild(content);
                
                // Inicializar componentes específicos de la sección
                initializeSectionComponents(sectionId);
            } else {
                section.innerHTML = `<h2 class="section-title">${sectionId.toUpperCase()}</h2><p>Contenido en desarrollo para esta sección.</p>`;
            }
        }
        
        // Inicializar componentes específicos de cada sección
        function initializeSectionComponents(sectionId) {
            switch(sectionId) {
                case 'inicio':
                    initializeHomeSlider();
                    break;
                case 'matematicas':
                    // Los botones ya tienen event listeners delegados
                    break;
                case 'galeria':
                    loadGalleryComics();
                    break;
                case 'ranking':
                    // Los botones ya tienen event listeners delegados
                    break;
            }
            
            // Añadir event listeners a los botones recién cargados
            setTimeout(() => {
                attachEventListeners();
            }, 100);
        }
        
        // Inicializar slider de inicio
        function initializeHomeSlider() {
            let currentSlide = 0;
            const slides = document.querySelectorAll('.slide');
            const indicators = document.querySelectorAll('.indicator');
            
            function showSlide(index) {
                slides.forEach(slide => {
                    slide.classList.remove('active');
                });
                indicators.forEach(indicator => {
                    indicator.classList.remove('active');
                });
                
                if (slides[index]) {
                    slides[index].classList.add('active');
                    indicators[index].classList.add('active');
                    currentSlide = index;
                }
            }
            
            // Configurar eventos para los indicadores
            indicators.forEach((indicator, index) => {
                indicator.addEventListener('click', () => {
                    showSlide(index);
                });
            });
            
            // Auto-slide cada 6 segundos
            slideInterval = setInterval(() => {
                let nextSlide = (currentSlide + 1) % slides.length;
                showSlide(nextSlide);
            }, 6000);
        }
        
        // Cargar galería de cómics
        function loadGalleryComics() {
            const galleryGrid = document.getElementById('galleryGrid');
            if (!galleryGrid) return;
            
            const comics = [
                { id: 1, title: 'El Teorema de Pitágoras', author: 'MathMaster', subject: 'matematicas', likes: 245, views: 1200, date: '2024-03-15', description: 'Aprende el teorema más famoso de las matemáticas a través de una aventura en el antiguo Egipto.' },
                { id: 2, title: 'La Revolución Francesa', author: 'HistoryBuff', subject: 'sociales', likes: 189, views: 980, date: '2024-03-10', description: 'Sigue a un joven parisino durante los eventos que cambiaron Francia para siempre.' },
                { id: 3, title: 'El Ciclo del Agua', author: 'EcoWarrior', subject: 'naturales', likes: 312, views: 1500, date: '2024-03-05', description: 'Acompaña a una gota de agua en su increíble viaje por la Tierra.' },
                { id: 4, title: 'Don Quijote: La Aventura', author: 'BookWorm', subject: 'lengua', likes: 278, views: 1350, date: '2024-02-28', description: 'Una adaptación cómic del capítulo más famoso de la obra de Cervantes.' },
                { id: 5, title: 'Ecuaciones de Primer Grado', author: 'AlgebraPro', subject: 'matematicas', likes: 156, views: 890, date: '2024-02-20', description: 'Resuelve misterios resolviendo ecuaciones en esta emocionante historia.' },
                { id: 6, title: 'El Sistema Solar', author: 'SpaceExplorer', subject: 'naturales', likes: 421, views: 2100, date: '2024-02-15', description: 'Viaja por los planetas y descubre sus secretos en este cómic espacial.' }
            ];
            
            galleryGrid.innerHTML = '';
            
            comics.forEach(comic => {
                const comicCard = document.createElement('div');
                comicCard.className = 'comic-card hover-float';
                comicCard.dataset.subject = comic.subject;
                
                // Determinar color según materia
                let subjectColor = '';
                let subjectClass = '';
                switch(comic.subject) {
                    case 'matematicas': 
                        subjectColor = 'var(--matematicas-light)'; 
                        subjectClass = 'matematicas-card'; 
                        break;
                    case 'lengua': 
                        subjectColor = 'var(--lengua-red)'; 
                        subjectClass = 'lengua-card'; 
                        break;
                    case 'sociales': 
                        subjectColor = 'var(--sociales-turq)'; 
                        subjectClass = 'sociales-card'; 
                        break;
                    case 'naturales': 
                        subjectColor = 'var(--naturales-neon)'; 
                        subjectClass = 'naturales-card'; 
                        break;
                }
                
                comicCard.classList.add(subjectClass);
                
                comicCard.innerHTML = `
                    <div style="height: 150px; background: ${subjectColor}20; border-radius: 10px; margin-bottom: 20px; display: flex; align-items: center; justify-content: center;">
                        <i class="fas fa-book" style="font-size: 4rem; color: ${subjectColor};"></i>
                    </div>
                    <h3>${comic.title}</h3>
                    <p><strong>Autor:</strong> ${comic.author}</p>
                    <p><strong>Materia:</strong> ${comic.subject.charAt(0).toUpperCase() + comic.subject.slice(1)}</p>
                    <p>${comic.description}</p>
                    <div style="display: flex; justify-content: space-between; margin-top: 15px;">
                        <span><i class="fas fa-heart" style="color: ${subjectColor};"></i> ${comic.likes}</span>
                        <span><i class="fas fa-eye" style="color: ${subjectColor};"></i> ${comic.views}</span>
                        <span><i class="fas fa-calendar" style="color: ${subjectColor};"></i> ${comic.date}</span>
                    </div>
                    <button class="btn view-comic-btn" data-id="${comic.id}" style="margin-top: 15px; width: 100%; background: ${subjectColor}; border-color: ${subjectColor};">Leer Cómic</button>
                `;
                
                galleryGrid.appendChild(comicCard);
            });
        }
        
        // Filtrar galería
        function filterGallery(filter) {
            const cards = document.querySelectorAll('#galleryGrid .comic-card');
            cards.forEach(card => {
                if (filter === 'all' || card.dataset.subject === filter) {
                    card.style.display = 'block';
                } else {
                    card.style.display = 'none';
                }
            });
        }
        
        // Funciones del creador de cómics
        function addCharacter(characterType) {
            const text = document.getElementById('comicText').value;
            const materia = document.getElementById('materiaSelect').value;
            const estilo = document.getElementById('estiloSelect').value;
            
            if (!text.trim()) {
                alert('Por favor escribe algún texto para el personaje.');
                return;
            }
            
            const panel = {
                character: characterType,
                text: text,
                materia: materia,
                estilo: estilo,
                timestamp: new Date().toISOString()
            };
            
            comicPanels.push(panel);
            updateComicDisplay();
            document.getElementById('comicText').value = '';
            
            // Mostrar confirmación
            const comicContent = document.getElementById('comicContent');
            comicContent.innerHTML = `<p style="color: var(--text-dark); text-align: center; font-weight: bold;">¡Personaje añadido! Llevas ${comicPanels.length} panel(es).</p>`;
            
            setTimeout(() => {
                updateComicDisplay();
            }, 1000);
        }
        
        function updateComicDisplay() {
            const comicContent = document.getElementById('comicContent');
            
            if (comicPanels.length === 0) {
                comicContent.innerHTML = `
                    <h3 style="text-align: center; color: var(--text-dark);">Tu cómic aparecerá aquí</h3>
                    <p style="text-align: center; color: var(--text-dark);">Usa las herramientas para crear tu historia educativa</p>
                `;
                return;
            }
            
            let html = '<div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px;">';
            
            comicPanels.forEach((panel, index) => {
                let characterIcon = 'fa-user';
                let characterName = 'Personaje';
                
                switch(panel.character) {
                    case 'profesor': characterIcon = 'fa-chalkboard-teacher'; characterName = 'Profesor'; break;
                    case 'estudiante': characterIcon = 'fa-user-graduate'; characterName = 'Estudiante'; break;
                    case 'cientifico': characterIcon = 'fa-flask'; characterName = 'Científico'; break;
                    case 'historico': characterIcon = 'fa-landmark'; characterName = 'Histórico'; break;
                }
                
                let color = 'var(--primary)';
                let bgColor = 'rgba(253, 131, 38, 0.1)';
                
                switch(panel.materia) {
                    case 'matematicas': 
                        color = 'var(--matematicas-light)'; 
                        bgColor = 'rgba(39, 168, 255, 0.1)';
                        break;
                    case 'lengua': 
                        color = 'var(--lengua-red)'; 
                        bgColor = 'rgba(244, 44, 29, 0.1)';
                        break;
                    case 'sociales': 
                        color = 'var(--sociales-turq)'; 
                        bgColor = 'rgba(0, 166, 192, 0.1)';
                        break;
                    case 'naturales': 
                        color = 'var(--naturales-neon)'; 
                        bgColor = 'rgba(39, 233, 181, 0.1)';
                        break;
                }
                
                html += `
                    <div style="border: 2px solid ${color}; padding: 10px; border-radius: 10px; background: white;">
                        <div style="display: flex; align-items: center; margin-bottom: 10px;">
                            <i class="fas ${characterIcon}" style="color: ${color}; font-size: 1.5rem; margin-right: 10px;"></i>
                            <strong style="color: ${color};">${characterName}</strong>
                        </div>
                        <p style="color: black; font-size: 0.9rem;">${panel.text}</p>
                        <div style="font-size: 0.7rem; color: #666; margin-top: 5px;">
                            Panel ${index + 1} | ${panel.materia}
                        </div>
                    </div>
                `;
            });
            
            html += '</div>';
            comicContent.innerHTML = html;
        }
        
        function addPanel() {
            const text = document.getElementById('comicText').value;
            if (!text.trim()) {
                alert('Por favor escribe algo para el panel.');
                return;
            }
            addCharacter('estudiante');
        }
        
        function clearComic() {
            if (comicPanels.length > 0 && confirm('¿Estás seguro de que quieres borrar todo tu cómic?')) {
                comicPanels = [];
                updateComicDisplay();
                alert('Cómic borrado correctamente.');
            } else if (comicPanels.length === 0) {
                alert('No hay cómic para borrar.');
            }
        }
        
        function saveComic() {
            if (comicPanels.length === 0) {
                alert('No hay nada que guardar. ¡Crea al menos un panel!');
                return;
            }
            
            const title = prompt('Título de tu cómic:', 'Mi cómic educativo');
            if (!title) return;
            
            const comicData = {
                title: title,
                panels: comicPanels,
                author: currentUser ? currentUser.username : 'Anónimo',
                date: new Date().toISOString(),
                subject: document.getElementById('materiaSelect').value
            };
            
            // Guardar en localStorage
            let savedComics = JSON.parse(localStorage.getItem('educomics')) || [];
            savedComics.push(comicData);
            localStorage.setItem('educomics', JSON.stringify(savedComics));
            
            alert(`¡Cómic "${title}" guardado exitosamente! Has creado ${comicPanels.length} paneles.`);
            comicPanels = [];
            updateComicDisplay();
            
            // Actualizar galería si estamos en esa sección
            if (currentSection === 'galeria') {
                loadGalleryComics();
            }
        }
        
        function shareComic() {
            if (comicPanels.length === 0) {
                alert('No hay cómic para compartir.');
                return;
            }
            
            alert('¡Cómic listo para compartir! (En una implementación real, esto compartiría en redes sociales)');
        }
        
        // Funciones de ejemplo para botones
        function showMathExample(type) {
            const examples = {
                estadisticas: 'Ejemplo: Si 10 estudiantes califican un cómic con [5,4,3,5,4,5,3,4,5,4], el promedio es 4.3.',
                geometria: 'Ejemplo: El área de un triángulo con base 10cm y altura 5cm es 25cm² (Área = base × altura ÷ 2).',
                algebra: 'Ejemplo: Resuelve 3x - 7 = 8 → 3x = 15 → x = 5'
            };
            
            alert(`📐 ${examples[type] || 'Ejemplo cargado correctamente.'}`);
        }
        
        function showCharacterInfo(character) {
            const characters = {
                pitagoras: 'Pitágoras: Matemático griego famoso por su teorema sobre triángulos rectángulos.',
                ada: 'Ada Lovelace: Primera programadora de la historia, colaboró con Charles Babbage.',
                einstein: 'Albert Einstein: Desarrolló la teoría de la relatividad, ganador del Nobel.',
                cervantes: 'Miguel de Cervantes: Autor de "Don Quijote de la Mancha".',
                'garcia-marquez': 'Gabriel García Márquez: Autor de "Cien años de soledad", Nobel de Literatura.',
                allende: 'Isabel Allende: Escritora chilena, autora de "La casa de los espíritus".',
                bolivar: 'Simón Bolívar: Conocido como "El Libertador", líder independentista.',
                'rosa-parks': 'Rosa Parks: Activista por los derechos civiles en EE.UU.',
                gandhi: 'Mahatma Gandhi: Líder del movimiento de independencia de la India.',
                curie: 'Marie Curie: Primera mujer en ganar un Nobel, descubrió el radio.',
                darwin: 'Charles Darwin: Formuló la teoría de la evolución por selección natural.',
                goodall: 'Jane Goodall: Primatóloga, estudió chimpancés por 60 años.'
            };
            
            alert(`📖 ${characters[character] || 'Información sobre el personaje cargada correctamente.'}`);
        }
        
        function startWriting() {
            alert('✍️ ¡Redirigiendo al editor de escritura creativa!');
        }
        
        function joinBookClub() {
            alert('📚 ¡Te has unido al club de lectura! Recibirás notificaciones sobre nuevos libros.');
        }
        
        function enterContest() {
            alert('🏆 ¡Inscripción al concurso literario completada! Buena suerte.');
        }
        
        function showHistoryTimeline() {
            alert('📅 ¡Abriendo línea temporal interactiva! Explora los eventos históricos más importantes.');
        }
        
        function exploreCultures() {
            alert('🌍 ¡Explorando culturas del mundo! Descubre tradiciones, comidas y festividades.');
        }
        
        function openInteractiveMap() {
            alert('🗺️ ¡Abriendo mapa interactivo! Explora países, capitales y características geográficas.');
        }
        
        function showEcologyComic() {
            alert('🌱 ¡Mostrando cómic ecológico! Aprende sobre reciclaje y conservación ambiental.');
        }
        
        function exploreBodySystems() {
            alert('🫀 ¡Explorando sistemas del cuerpo humano! Aprende sobre anatomía de forma interactiva.');
        }
        
        function startExperiment() {
            alert('🧪 ¡Comenzando experimento! Sigue las instrucciones paso a paso para crear un volcán de bicarbonato.');
        }
        
        function viewComic(id) {
            alert(`📖 Abriendo cómic #${id}... ¡Disfruta de la lectura!`);
        }
        
        function viewMyComics() {
            alert('📚 Mostrando tus cómics creados...');
        }
        
        function viewAchievements() {
            alert('🏆 Mostrando tus logros y medallas...');
        }
        
        function participateContest() {
            alert('🎯 ¡Redirigiendo al formulario de participación en el concurso!');
        }
        
        // Sistema de login/logout
        const signInBtn = document.getElementById('signInBtn');
        const loginModal = document.getElementById('loginModal');
        const closeModal = document.getElementById('closeModal');
        const userWelcome = document.getElementById('userWelcome');
        const usernameDisplay = document.getElementById('usernameDisplay');
        const logoutBtn = document.getElementById('logoutBtn');
        const loginForm = document.getElementById('loginForm');
        const comicCreatorBtn = document.getElementById('comicCreatorBtn');
        const comicCreatorModal = document.getElementById('comicCreatorModal');
        const closeComicModal = document.getElementById('closeComicModal');
        const forgotPassword = document.getElementById('forgotPassword');
        const mainHeader = document.getElementById('mainHeader');
        const mouseDetectionZone = document.getElementById('mouseDetectionZone');
        const mainContent = document.querySelector('.main-content');
        
        // Verificar si hay usuario guardado
        function checkLoggedInUser() {
            const savedUser = localStorage.getItem('educomicUser');
            if (savedUser) {
                currentUser = JSON.parse(savedUser);
                updateUserInterface();
            }
        }
        
        // Actualizar interfaz según estado de login
        function updateUserInterface() {
            if (currentUser) {
                // Usuario logueado
                userWelcome.style.display = 'flex';
                signInBtn.style.display = 'none';
                usernameDisplay.textContent = currentUser.username;
            } else {
                // Usuario no logueado
                userWelcome.style.display = 'none';
                signInBtn.style.display = 'block';
            }
        }
        
        // Login
        signInBtn.addEventListener('click', (e) => {
            e.preventDefault();
            loginModal.style.display = 'flex';
        });
        
        closeModal.addEventListener('click', () => {
            loginModal.style.display = 'none';
        });
        
        comicCreatorBtn.addEventListener('click', (e) => {
            e.preventDefault();
            openComicCreator();
        });
        
        closeComicModal.addEventListener('click', () => {
            comicCreatorModal.style.display = 'none';
        });
        
        window.addEventListener('click', (e) => {
            if (e.target === loginModal) {
                loginModal.style.display = 'none';
            }
            if (e.target === comicCreatorModal) {
                comicCreatorModal.style.display = 'none';
            }
        });
        
        // Manejo del formulario de login
        loginForm.addEventListener('submit', (e) => {
            e.preventDefault();
            const email = document.getElementById('email').value;
            const password = document.getElementById('password').value;
            const username = document.getElementById('username').value;
            
            // Validación básica
            if (!email || !password || !username) {
                alert('Por favor completa todos los campos');
                return;
            }
            
            // Simular login
            const submitBtn = loginForm.querySelector('.btn');
            submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Accediendo...';
            submitBtn.disabled = true;
            
            setTimeout(() => {
                // Guardar usuario
                currentUser = {
                    email: email,
                    username: username,
                    joinDate: new Date().toISOString()
                };
                localStorage.setItem('educomicUser', JSON.stringify(currentUser));
                
                // Actualizar interfaz
                updateUserInterface();
                
                // Cerrar modal y limpiar formulario
                loginModal.style.display = 'none';
                loginForm.reset();
                submitBtn.innerHTML = '<i class="fas fa-rocket"></i> Acceder al Portal';
                submitBtn.disabled = false;
                
                // Mensaje de bienvenida
                alert(`¡Bienvenido a EDUCÓMIC, ${username}! Ahora puedes crear tus propios cómics educativos.`);
            }, 1500);
        });
        
        // Logout
        logoutBtn.addEventListener('click', () => {
            if (confirm('¿Estás seguro de que quieres cerrar sesión?')) {
                currentUser = null;
                localStorage.removeItem('educomicUser');
                updateUserInterface();
                alert('Has cerrado sesión correctamente. ¡Vuelve pronto!');
            }
        });
        
        // Olvidé mi contraseña
        forgotPassword.addEventListener('click', (e) => {
            e.preventDefault();
            alert('Se ha enviado un correo para restablecer tu contraseña. (Funcionalidad simulada)');
        });
        
        // Sistema para ocultar/mostrar el header completo al hacer scroll
        function handleScroll() {
            const currentScrollY = window.scrollY;
            
            // Si estamos bajando y hemos pasado un umbral
            if (currentScrollY > lastScrollY && currentScrollY > 100) {
                // Ocultar header
                if (!isHeaderHidden) {
                    hideHeader();
                }
            } 
            // Si estamos subiendo
            else if (currentScrollY < lastScrollY) {
                // Mostrar header inmediatamente
                if (isHeaderHidden && currentScrollY < lastScrollY - 10) {
                    showHeader();
                }
            }
            
            lastScrollY = currentScrollY;
            
            // Ajustar margen del contenido principal
            if (isHeaderHidden) {
                mainContent.style.marginTop = '60px';
            } else {
                mainContent.style.marginTop = '160px';
            }
        }
        
        function hideHeader() {
            clearTimeout(showTimeout);
            mainHeader.classList.remove('visible');
            mainHeader.classList.add('hidden');
            isHeaderHidden = true;
            
            // Activar zona de detección del mouse
            mouseDetectionZone.classList.add('active');
        }
        
        function showHeader() {
            clearTimeout(hideTimeout);
            mainHeader.classList.remove('hidden');
            mainHeader.classList.add('visible');
            isHeaderHidden = false;
            
            // Desactivar zona de detección del mouse
            mouseDetectionZone.classList.remove('active');
        }
        
        // Event listener para el scroll
        window.addEventListener('scroll', handleScroll, { passive: true });
        
        // Mostrar header cuando el mouse entra en la zona de detección
        mouseDetectionZone.addEventListener('mouseenter', () => {
            if (isHeaderHidden) {
                showHeader();
                
                // Ocultar después de 3 segundos si no hay interacción
                hideTimeout = setTimeout(() => {
                    if (!mainHeader.matches(':hover')) {
                        hideHeader();
                    }
                }, 3000);
            }
        });
        
        // Mantener header visible cuando el mouse está sobre él
        mainHeader.addEventListener('mouseenter', () => {
            clearTimeout(hideTimeout);
        });
        
        mainHeader.addEventListener('mouseleave', () => {
            // Solo ocultar si estamos scrolleando hacia abajo
            if (window.scrollY > 100) {
                hideTimeout = setTimeout(() => {
                    if (!mouseDetectionZone.matches(':hover')) {
                        hideHeader();
                    }
                }, 1000);
            }
        });
        
        // Navegación por enlaces
        document.addEventListener('click', function(e) {
            // Manejar enlaces de navegación
            if (e.target.closest('.nav-link')) {
                e.preventDefault();
                const link = e.target.closest('.nav-link');
                const section = link.dataset.section || 'inicio';
                navigateToSection(section);
                
                // Mostrar header si estaba oculto
                if (isHeaderHidden) {
                    showHeader();
                }
            }
        });
        
        // Manejar navegación atrás/adelante del navegador
        window.addEventListener('popstate', function(event) {
            if (event.state && event.state.section) {
                navigateToSection(event.state.section);
            }
        });
        
        // Cargar sección inicial basada en URL
        function loadInitialSection() {
            const hash = window.location.hash.substring(1);
            if (hash && document.getElementById(hash)) {
                navigateToSection(hash);
            } else {
                navigateToSection('inicio');
            }
        }
        
        // Añadir event listeners a los botones dinámicos
        function attachEventListeners() {
            // Botones de matemáticas
            document.querySelectorAll('.showMathExampleBtn').forEach(btn => {
                btn.addEventListener('click', () => {
                    showMathExample(btn.dataset.type);
                });
            });
            
            // Botones de información de personajes
            document.querySelectorAll('.showCharacterInfoBtn').forEach(btn => {
                btn.addEventListener('click', () => {
                    showCharacterInfo(btn.dataset.character);
                });
            });
            
            // Botones de la galería
            document.querySelectorAll('.filter-gallery-btn').forEach(btn => {
                btn.addEventListener('click', () => {
                    filterGallery(btn.dataset.filter);
                });
            });
            
            // Botones para ver cómics
            document.querySelectorAll('.view-comic-btn').forEach(btn => {
                btn.addEventListener('click', () => {
                    viewComic(btn.dataset.id);
                });
            });
            
            // Botones específicos de cada sección
            const buttonHandlers = {
                // Inicio
                'startLearningBtn': () => navigateToSection('matematicas'),
                'openCreatorFromSlide': () => openComicCreator(),
                'participateContestBtn': () => participateContest(),
                
                // Lengua
                'startWritingBtn': () => startWriting(),
                'joinBookClubBtn': () => joinBookClub(),
                'enterContestBtn': () => enterContest(),
                
                // Sociales
                'showHistoryTimelineBtn': () => showHistoryTimeline(),
                'exploreCulturesBtn': () => exploreCultures(),
                'openInteractiveMapBtn': () => openInteractiveMap(),
                
                // Naturales
                'showEcologyComicBtn': () => showEcologyComic(),
                'exploreBodySystemsBtn': () => exploreBodySystems(),
                'startExperimentBtn': () => startExperiment(),
                
                // Galería
                'openCreatorFromGallery': () => openComicCreator(),
                
                // Ranking
                'viewMyComicsBtn': () => viewMyComics(),
                'viewAchievementsBtn': () => viewAchievements(),
                'openCreatorFromRanking': () => openComicCreator()
            };
            
            // Asignar handlers a los botones
            Object.keys(buttonHandlers).forEach(buttonId => {
                const button = document.getElementById(buttonId);
                if (button) {
                    button.addEventListener('click', buttonHandlers[buttonId]);
                }
            });
            
            // Botones del creador de cómics
            const creatorButtons = {
                'addProfesor': () => addCharacter('profesor'),
                'addEstudiante': () => addCharacter('estudiante'),
                'addCientifico': () => addCharacter('cientifico'),
                'addHistorico': () => addCharacter('historico'),
                'addPanelBtn': () => addPanel(),
                'clearComicBtn': () => clearComic(),
                'saveComicBtn': () => saveComic(),
                'shareComicBtn': () => shareComic()
            };
            
            Object.keys(creatorButtons).forEach(buttonId => {
                const button = document.getElementById(buttonId);
                if (button) {
                    button.addEventListener('click', creatorButtons[buttonId]);
                }
            });
            
            // Enlaces del footer
            document.querySelectorAll('.social-link').forEach(link => {
                link.addEventListener('click', (e) => {
                    e.preventDefault();
                    const platform = link.querySelector('i').className.split(' ')[1].split('-')[1];
                    alert(`Redirigiendo a ${platform} (funcionalidad simulada)`);
                });
            });
            
            // Botón de búsqueda
            const searchButton = document.querySelector('.search-bar button');
            const searchInput = document.querySelector('.search-bar input');
            
            if (searchButton && searchInput) {
                const performSearch = () => {
                    if (searchInput.value.trim()) {
                        alert(`Buscando: "${searchInput.value}" (funcionalidad simulada)`);
                    }
                };
                
                searchButton.addEventListener('click', performSearch);
                searchInput.addEventListener('keypress', (e) => {
                    if (e.key === 'Enter') {
                        performSearch();
                    }
                });
            }
        }
        
        // Función para abrir el creador de cómics
        function openComicCreator() {
            if (!currentUser) {
                alert('Por favor inicia sesión para crear cómics.');
                signInBtn.click();
                return;
            }
            comicCreatorModal.style.display = 'flex';
        }
        
        // Inicialización
        document.addEventListener('DOMContentLoaded', () => {
            createParticles();
            checkLoggedInUser();
            loadInitialSection();
            attachEventListeners();
            
            // Configurar botón "Comenzar Aprendizaje"
            document.addEventListener('click', function(e) {
                if (e.target.id === 'startLearningBtn') {
                    navigateToSection('matematicas');
                }
            });
        });
    </script>
</body>
</html>